{"Timestamp":"2024-10-02T09:27:07.8410438+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"63","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:27:07.8901956+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:27:07.9113043+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T09:27:07.9531406+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:27:08.3001934+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:27:08.3009559+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:27:08.3024225+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:27:08.3030929+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:27:08.3038057+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:27:08.7166158+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"be67ac818e1a493e2bb97847dce09ff5","SpanId":"0740e41e9c95095e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:08.9425191+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"be67ac818e1a493e2bb97847dce09ff5","SpanId":"0740e41e9c95095e","Properties":{"ElapsedMilliseconds":226.8234,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:08.9459065+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4cbc81c7b61156ffdd38ac1d913ad10c","SpanId":"0ca32283f5577fb8","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:08.9876448+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4cbc81c7b61156ffdd38ac1d913ad10c","SpanId":"0ca32283f5577fb8","Properties":{"ElapsedMilliseconds":41.6657,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:09.0899858+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a213284435121cc84f4e4926290a2a61","SpanId":"3467d3fe95b9c8a9","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:09.1233983+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a213284435121cc84f4e4926290a2a61","SpanId":"3467d3fe95b9c8a9","Properties":{"ElapsedMilliseconds":33.433,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:09.2073790+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"99b7eaa896509c5670f308bfb8dc60a3","SpanId":"f856555e450dea1c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:09.2729445+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"99b7eaa896509c5670f308bfb8dc60a3","SpanId":"f856555e450dea1c","Properties":{"ElapsedMilliseconds":65.5758,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:33.4639763+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":106,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v1/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:33.4952545+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:33.5613090+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"EndpointName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:33.5903057+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v1.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:33.7870669+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"35","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:33.9593748+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"7","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:33.9744250+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.2034470+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"13","parameters":"@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [Fullname], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.2279221+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.2605325+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"8","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.3186988+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"6","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.3267830+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.3396351+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.3424509+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.3982163+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"elapsed":"17","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [Fullname] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [Role] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17\r\nOUTPUT 1\r\nWHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.4354859+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Auth.RegistrationRequest","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e4d599c6-acf7-4a94-9666-e1400dfa40d3","ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.4882516+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"ActionName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","ElapsedMilliseconds":890.2702,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.4934163+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"EndpointName":"JWTDemo.Controllers.v1.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:34.4991186+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"RequestMethod":"POST","RequestPath":"/api/v1/Auth/register","StatusCode":201,"Elapsed":993.8557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"993.8557"}]}}
{"Timestamp":"2024-10-02T09:27:34.5112881+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2ca825092272043a1fec17d7ac4bd52d","SpanId":"d7f9ec7c4773ca77","Properties":{"ElapsedMilliseconds":1047.2899,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v1/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:00000009","RequestPath":"/api/v1/Auth/register","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.1552076+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":62,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v1/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.1640460+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.1701024+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"EndpointName":"JWTDemo.Controllers.v1.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.1884470+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v1.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"62cfb554-4d51-478a-b997-d483ecf9005a","ActionName":"JWTDemo.Controllers.v1.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.2480390+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"elapsed":"5","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"62cfb554-4d51-478a-b997-d483ecf9005a","ActionName":"JWTDemo.Controllers.v1.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.3847396+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"elapsed":"4","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"62cfb554-4d51-478a-b997-d483ecf9005a","ActionName":"JWTDemo.Controllers.v1.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.4554987+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"62cfb554-4d51-478a-b997-d483ecf9005a","ActionName":"JWTDemo.Controllers.v1.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.5462739+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"62cfb554-4d51-478a-b997-d483ecf9005a","ActionName":"JWTDemo.Controllers.v1.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.5595682+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"62cfb554-4d51-478a-b997-d483ecf9005a","ActionName":"JWTDemo.Controllers.v1.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.5629972+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"ActionName":"JWTDemo.Controllers.v1.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":362.2677,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.5656649+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"EndpointName":"JWTDemo.Controllers.v1.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:27:51.5674317+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"RequestMethod":"POST","RequestPath":"/api/v1/Auth/login","StatusCode":200,"Elapsed":399.7017,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"399.7017"}]}}
{"Timestamp":"2024-10-02T09:27:51.5711372+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a07257c90f6e79c5e3e99d0acc474524","SpanId":"5fd9f02372f91ac8","Properties":{"ElapsedMilliseconds":415.6916,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v1/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:0000000B","RequestPath":"/api/v1/Auth/login","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:28:02.7635409+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"98b1c4e40e567e23ab6ecf01b96f661c","SpanId":"66cc7e97c892c98e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:0000000D","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:28:02.8324046+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"98b1c4e40e567e23ab6ecf01b96f661c","SpanId":"66cc7e97c892c98e","Properties":{"ElapsedMilliseconds":68.8493,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:0000000D","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:28:11.2298096+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37d7f016d28254a8d486b10a2adf27de","SpanId":"743d5d17c02c6648","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:28:11.2435113+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"37d7f016d28254a8d486b10a2adf27de","SpanId":"743d5d17c02c6648","Exception":"System.InvalidOperationException: The AuthorizationPolicy named: 'Customer' was not found.\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData, IEnumerable`1 policies)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":500,"Elapsed":5.456,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5.4560"}]}}
{"Timestamp":"2024-10-02T09:28:11.2823702+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"37d7f016d28254a8d486b10a2adf27de","SpanId":"743d5d17c02c6648","Exception":"System.InvalidOperationException: The AuthorizationPolicy named: 'Customer' was not found.\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData, IEnumerable`1 policies)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72H6RCLD46:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:28:11.2981037+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37d7f016d28254a8d486b10a2adf27de","SpanId":"743d5d17c02c6648","Properties":{"ElapsedMilliseconds":68.2703,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H6RCLD46:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H6RCLD46"}}
{"Timestamp":"2024-10-02T09:28:51.4000995+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"29","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:28:51.4408378+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:28:51.4545724+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T09:28:51.4934169+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:28:51.6850506+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:28:51.6860183+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:28:51.6874358+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:28:51.6880717+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:28:51.6887565+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:28:52.1249560+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81731496ce1d134e44dd550d3da9d4d3","SpanId":"5f04cc46c90664b6","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:28:52.3092591+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81731496ce1d134e44dd550d3da9d4d3","SpanId":"5f04cc46c90664b6","Properties":{"ElapsedMilliseconds":184.9736,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:28:52.3164074+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fdf6a7f8e8639a738a625a8ef5c76fbb","SpanId":"65611aef0125edc1","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:28:52.3164073+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4307071af5ec97496c6e3d5cab2ed0bb","SpanId":"1405392c0332f04e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:28:52.3228166+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4307071af5ec97496c6e3d5cab2ed0bb","SpanId":"1405392c0332f04e","Properties":{"ElapsedMilliseconds":6.3722,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:28:52.3332877+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fdf6a7f8e8639a738a625a8ef5c76fbb","SpanId":"65611aef0125edc1","Properties":{"ElapsedMilliseconds":16.8713,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:28:52.9223138+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"852c32f38a97ab435cde3fa51fdd6cc5","SpanId":"9569be684d7e0759","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:28:52.9993179+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"852c32f38a97ab435cde3fa51fdd6cc5","SpanId":"9569be684d7e0759","Properties":{"ElapsedMilliseconds":77.0262,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:28:59.7475621+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54f314306738ec63034a12cbef940050","SpanId":"e9275046e98e5164","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:28:59.8341180+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54f314306738ec63034a12cbef940050","SpanId":"e9275046e98e5164","Properties":{"ElapsedMilliseconds":86.5264,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:02.4099205+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d1c4daaad6a257e06d74b06ef8954763","SpanId":"a4d042fe3bfee2fc","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:02.4857636+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"d1c4daaad6a257e06d74b06ef8954763","SpanId":"a4d042fe3bfee2fc","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72H7Q8BD38:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:02.4952532+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"d1c4daaad6a257e06d74b06ef8954763","SpanId":"a4d042fe3bfee2fc","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72H7Q8BD38:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:02.5022073+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d1c4daaad6a257e06d74b06ef8954763","SpanId":"a4d042fe3bfee2fc","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":401,"Elapsed":63.8604,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"63.8604"}]}}
{"Timestamp":"2024-10-02T09:29:02.5117431+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d1c4daaad6a257e06d74b06ef8954763","SpanId":"a4d042fe3bfee2fc","Properties":{"ElapsedMilliseconds":101.7505,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:10.2128058+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"77caf617eec4ed429de630abf354ea12","SpanId":"fa2358c4250cdb06","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:10.2845428+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"77caf617eec4ed429de630abf354ea12","SpanId":"fa2358c4250cdb06","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72H7Q8BD38:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:10.3029497+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"77caf617eec4ed429de630abf354ea12","SpanId":"fa2358c4250cdb06","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b68fb40f-0339-4e3f-9839-2cfd54275f43","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72H7Q8BD38:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:10.6596696+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"77caf617eec4ed429de630abf354ea12","SpanId":"fa2358c4250cdb06","Properties":{"elapsed":"20","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__userId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b68fb40f-0339-4e3f-9839-2cfd54275f43","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72H7Q8BD38:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:10.6950880+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"77caf617eec4ed429de630abf354ea12","SpanId":"fa2358c4250cdb06","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b68fb40f-0339-4e3f-9839-2cfd54275f43","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72H7Q8BD38:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:10.7027229+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"77caf617eec4ed429de630abf354ea12","SpanId":"fa2358c4250cdb06","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":392.0063,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72H7Q8BD38:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:10.7046048+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"77caf617eec4ed429de630abf354ea12","SpanId":"fa2358c4250cdb06","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72H7Q8BD38:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:29:10.7072377+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"77caf617eec4ed429de630abf354ea12","SpanId":"fa2358c4250cdb06","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":404,"Elapsed":487.0051,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"487.0051"}]}}
{"Timestamp":"2024-10-02T09:29:10.7109051+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"77caf617eec4ed429de630abf354ea12","SpanId":"fa2358c4250cdb06","Properties":{"ElapsedMilliseconds":498.0849,"StatusCode":404,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:31:13.6945466+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2bc7e349ca249e0a47800179e7955ac","SpanId":"ceabd15f427e6806","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":108,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:31:13.7067887+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"a2bc7e349ca249e0a47800179e7955ac","SpanId":"ceabd15f427e6806","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72H7Q8BD38:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:31:13.7115227+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a2bc7e349ca249e0a47800179e7955ac","SpanId":"ceabd15f427e6806","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72H7Q8BD38:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:31:13.7265201+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a2bc7e349ca249e0a47800179e7955ac","SpanId":"ceabd15f427e6806","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"75deff09-1831-4a09-b0de-a399f8406cba","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72H7Q8BD38:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:31:13.7574152+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a2bc7e349ca249e0a47800179e7955ac","SpanId":"ceabd15f427e6806","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","ElapsedMilliseconds":22.6773,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72H7Q8BD38:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:31:13.7676201+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a2bc7e349ca249e0a47800179e7955ac","SpanId":"ceabd15f427e6806","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72H7Q8BD38:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:31:13.7717011+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a2bc7e349ca249e0a47800179e7955ac","SpanId":"ceabd15f427e6806","Exception":"System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'JWTDemo.Controllers.v5.AuthController'.\r\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method58(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/register","StatusCode":500,"Elapsed":62.0612,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.0612"}]}}
{"Timestamp":"2024-10-02T09:31:13.8186343+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"a2bc7e349ca249e0a47800179e7955ac","SpanId":"ceabd15f427e6806","Exception":"System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'JWTDemo.Controllers.v5.AuthController'.\r\n   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)\r\n   at lambda_method58(Closure, IServiceProvider, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72H7Q8BD38:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:31:13.8309256+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2bc7e349ca249e0a47800179e7955ac","SpanId":"ceabd15f427e6806","Properties":{"ElapsedMilliseconds":136.3457,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72H7Q8BD38:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72H7Q8BD38"}}
{"Timestamp":"2024-10-02T09:32:51.4976529+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"23","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:32:51.5471627+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:32:51.5622925+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T09:32:51.6011387+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:32:51.7941970+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:32:51.7952257+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:32:51.7965428+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:32:51.7973686+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:32:51.7979569+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:32:52.2188006+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5bf54a1cbfe225a2353e3e623224bd2d","SpanId":"f6b91ee4e9bcdde5","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:32:52.5546383+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5bf54a1cbfe225a2353e3e623224bd2d","SpanId":"f6b91ee4e9bcdde5","Properties":{"ElapsedMilliseconds":336.5383,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:32:52.5663852+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cbe257a5fb8e992b12e37b63dc42fb5d","SpanId":"34b88b35eadd592c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:32:52.5679535+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a4ac70692a5b0aba0a5bfaa7d35ee7b4","SpanId":"9c489721aa785b06","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:32:52.5900885+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cbe257a5fb8e992b12e37b63dc42fb5d","SpanId":"34b88b35eadd592c","Properties":{"ElapsedMilliseconds":23.6682,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:32:52.6220766+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a4ac70692a5b0aba0a5bfaa7d35ee7b4","SpanId":"9c489721aa785b06","Properties":{"ElapsedMilliseconds":54.0935,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:32:53.0612274+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca0c343ff6c2337856d923e7b1a64d01","SpanId":"75ff20dd5afd913d","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:32:53.1202626+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca0c343ff6c2337856d923e7b1a64d01","SpanId":"75ff20dd5afd913d","Properties":{"ElapsedMilliseconds":59.0109,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:04.3128186+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2b80db5849a0a7e4b97e6f966884e735","SpanId":"74ace118ba00a960","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:04.3910273+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2b80db5849a0a7e4b97e6f966884e735","SpanId":"74ace118ba00a960","Properties":{"ElapsedMilliseconds":78.2404,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:10.5043601+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":108,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:10.5269551+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:10.5768205+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:10.6011470+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:10.7829057+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"33","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:10.9776558+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"11","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:10.9952715+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.2517593+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"15","parameters":"@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [Fullname], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.2863398+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"11","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.4286950+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.4429281+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"10","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 450), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [Customers] ([Id], [IsDeleted], [UserId])\r\nVALUES (@p0, @p1, @p2);\r\nINSERT INTO [Carts] ([Id], [CustomerId], [IsDeleted])\r\nVALUES (@p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.4749427+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"4","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.5249886+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"5","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.5341730+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.5577578+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.5664980+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.5990099+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.6157781+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"elapsed":"14","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [Fullname] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [Role] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17\r\nOUTPUT 1\r\nWHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.6378146+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Auth.RegistrationRequest","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d772e676-6f6a-4eb0-839f-f957477aadd4","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.6744598+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","ElapsedMilliseconds":1065.9775,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.6778140+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:11.6822351+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/register","StatusCode":201,"Elapsed":1147.3366,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1147.3366"}]}}
{"Timestamp":"2024-10-02T09:33:11.6961177+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54576f4a1e5e39fc91d65a0978802cda","SpanId":"663f43992e8c451d","Properties":{"ElapsedMilliseconds":1191.7649,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.3370686+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.3451607+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.3482878+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.3563966+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.4105108+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.5950473+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"elapsed":"2","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.6106019+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.7198218+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.7290870+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.7397066+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":376.8453,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.7446875+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:26.7483312+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":401.4687,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"401.4687"}]}}
{"Timestamp":"2024-10-02T09:33:26.7540626+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0351624648f98ee8fd6039419a23f1f5","SpanId":"73aa365d0c79bf77","Properties":{"ElapsedMilliseconds":416.9437,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.1087075+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":67,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.1218246+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.1249131+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.1268516+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.1439908+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.2611722+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"elapsed":"1","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.2685335+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.2732432+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.2769454+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0183d2c6-1164-4299-b53c-e38898f2423f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.2796028+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":148.2842,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.2814834+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:33:46.2828112+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":159.9052,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"159.9052"}]}}
{"Timestamp":"2024-10-02T09:33:46.2850248+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"78c155654b1451c6062ee1a9e1dd7250","SpanId":"f28bf7ea0f5bf349","Properties":{"ElapsedMilliseconds":176.3179,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:20.0760969+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c45abe37d6549bbf7698f2a0a4752a9b","SpanId":"fd4ea58d22add89a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:20.0872314+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"c45abe37d6549bbf7698f2a0a4752a9b","SpanId":"fd4ea58d22add89a","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72HA1Q8D80:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:20.0922896+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"c45abe37d6549bbf7698f2a0a4752a9b","SpanId":"fd4ea58d22add89a","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72HA1Q8D80:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:20.0956715+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c45abe37d6549bbf7698f2a0a4752a9b","SpanId":"fd4ea58d22add89a","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":401,"Elapsed":13.5181,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.5181"}]}}
{"Timestamp":"2024-10-02T09:34:20.1016341+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c45abe37d6549bbf7698f2a0a4752a9b","SpanId":"fd4ea58d22add89a","Properties":{"ElapsedMilliseconds":25.4979,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:20.8659776+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a6e4158026b82a491172e2f28afe94c2","SpanId":"46cad587ff990fa6","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:20.8732724+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"a6e4158026b82a491172e2f28afe94c2","SpanId":"46cad587ff990fa6","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72HA1Q8D80:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:20.8777488+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"a6e4158026b82a491172e2f28afe94c2","SpanId":"46cad587ff990fa6","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72HA1Q8D80:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:20.8801027+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a6e4158026b82a491172e2f28afe94c2","SpanId":"46cad587ff990fa6","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":401,"Elapsed":8.3941,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8.3941"}]}}
{"Timestamp":"2024-10-02T09:34:20.8871897+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a6e4158026b82a491172e2f28afe94c2","SpanId":"46cad587ff990fa6","Properties":{"ElapsedMilliseconds":21.0836,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:29.7001752+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"011987f3b8c69fa74d90a58aa2bceef0","SpanId":"a7b2130ac33740c8","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:29.7528959+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"011987f3b8c69fa74d90a58aa2bceef0","SpanId":"a7b2130ac33740c8","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HA1Q8D80:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:29.7607796+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"011987f3b8c69fa74d90a58aa2bceef0","SpanId":"a7b2130ac33740c8","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"32778483-1747-440f-ae9e-069c383d2546","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72HA1Q8D80:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:29.9481989+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"011987f3b8c69fa74d90a58aa2bceef0","SpanId":"a7b2130ac33740c8","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__userId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"32778483-1747-440f-ae9e-069c383d2546","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72HA1Q8D80:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:29.9632852+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"011987f3b8c69fa74d90a58aa2bceef0","SpanId":"a7b2130ac33740c8","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"32778483-1747-440f-ae9e-069c383d2546","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72HA1Q8D80:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:29.9649532+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"011987f3b8c69fa74d90a58aa2bceef0","SpanId":"a7b2130ac33740c8","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":201.7498,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HA1Q8D80:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:29.9662908+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"011987f3b8c69fa74d90a58aa2bceef0","SpanId":"a7b2130ac33740c8","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HA1Q8D80:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:34:29.9671455+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"011987f3b8c69fa74d90a58aa2bceef0","SpanId":"a7b2130ac33740c8","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":404,"Elapsed":260.8669,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"260.8669"}]}}
{"Timestamp":"2024-10-02T09:34:29.9681158+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"011987f3b8c69fa74d90a58aa2bceef0","SpanId":"a7b2130ac33740c8","Properties":{"ElapsedMilliseconds":267.9338,"StatusCode":404,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HA1Q8D80:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HA1Q8D80"}}
{"Timestamp":"2024-10-02T09:42:33.4699528+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"31","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:42:33.5199465+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:42:33.5458562+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T09:42:33.5863425+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:42:33.9695770+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:42:33.9710914+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:42:33.9730370+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:42:33.9742998+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:42:33.9754597+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:42:34.3525994+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"08ce99f0364c1ff1837af01bc2ac9518","SpanId":"89b0d01e7971d4ea","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:34.5823234+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"08ce99f0364c1ff1837af01bc2ac9518","SpanId":"89b0d01e7971d4ea","Properties":{"ElapsedMilliseconds":233.5353,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:34.5872995+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"42e5ae4cbcd8a37a79cceadfb1f54ced","SpanId":"84be800cca075122","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:34.5873740+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c75de58b025251a6f0966b3b18ced02f","SpanId":"5e8206974860c27d","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:34.6089053+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c75de58b025251a6f0966b3b18ced02f","SpanId":"5e8206974860c27d","Properties":{"ElapsedMilliseconds":22.005,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:34.6260690+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"42e5ae4cbcd8a37a79cceadfb1f54ced","SpanId":"84be800cca075122","Properties":{"ElapsedMilliseconds":39.2073,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:34.7498427+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"15a1e6ff06f3669efd02245d65de53cb","SpanId":"e5e1920055503732","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:34.8289866+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"15a1e6ff06f3669efd02245d65de53cb","SpanId":"e5e1920055503732","Properties":{"ElapsedMilliseconds":79.6458,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:38.3732776+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1bd6ce4102c358a44ad691139de06ebe","SpanId":"caf3c3bf58ce547c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:38.4899425+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1bd6ce4102c358a44ad691139de06ebe","SpanId":"caf3c3bf58ce547c","Properties":{"ElapsedMilliseconds":116.7229,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:48.1430348+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":108,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:48.1701917+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:48.3835747+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:48.4517288+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:48.7417784+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"52","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:48.8774431+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"5","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:48.9094309+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"4","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:49.3261754+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"5","parameters":"@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [Fullname], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:49.3528404+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:49.3906449+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"5","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:49.4801673+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"6","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:49.4930054+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"5","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:49.5500688+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"7","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:49.5578400+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:42:49.6271164+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"11","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [Fullname] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [Role] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17\r\nOUTPUT 1\r\nWHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:45:21.5742780+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:45:21.5923901+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"elapsed":"13","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 450), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [Customers] ([Id], [IsDeleted], [UserId])\r\nVALUES (@p0, @p1, @p2);\r\nINSERT INTO [Carts] ([Id], [CustomerId], [IsDeleted])\r\nVALUES (@p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:45:47.7381051+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Auth.RegistrationRequest","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:45:47.8148499+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","ElapsedMilliseconds":179354.0351,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:45:47.8184783+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:45:47.8262556+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/register","StatusCode":201,"Elapsed":179647.2091,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"179647.2091"}]}}
{"Timestamp":"2024-10-02T09:45:47.8378981+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4c1a7cfcfe3eff778d3118093455b3e2","SpanId":"d97992ba18b44808","Properties":{"ElapsedMilliseconds":179695.3317,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.0131549+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.0290766+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.0332440+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.0498826+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cac9b205-2e00-4c34-9a54-1093bd58d038","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.0988298+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"elapsed":"10","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cac9b205-2e00-4c34-9a54-1093bd58d038","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.2479792+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"elapsed":"3","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cac9b205-2e00-4c34-9a54-1093bd58d038","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.2583495+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"cac9b205-2e00-4c34-9a54-1093bd58d038","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.3866317+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"elapsed":"14","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cac9b205-2e00-4c34-9a54-1093bd58d038","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.3986762+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cac9b205-2e00-4c34-9a54-1093bd58d038","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.4061502+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":350.959,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.4111373+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:46:43.4122099+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":380.7382,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"380.7382"}]}}
{"Timestamp":"2024-10-02T09:46:43.4144603+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0778f643893962ac37a87365bdc26fa9","SpanId":"fc676b7558d8c2a2","Properties":{"ElapsedMilliseconds":402.104,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.1345408+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":108,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.1444700+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.1523144+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.1551146+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.1738057+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"6","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3163187+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"9","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3221425+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3404423+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"8","parameters":"@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [Fullname], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3454591+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3557859+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"5","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3646677+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"3","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3702476+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"2","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3750612+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3803905+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"3","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:47:57.3987332+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"14","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [Fullname] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [Role] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17\r\nOUTPUT 1\r\nWHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:48:41.3140606+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:48:41.3355153+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"elapsed":"21","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 450), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [Customers] ([Id], [IsDeleted], [UserId])\r\nVALUES (@p0, @p1, @p2);\r\nINSERT INTO [Carts] ([Id], [CustomerId], [IsDeleted])\r\nVALUES (@p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:48:41.3399006+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Auth.RegistrationRequest","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"67727f66-7201-45f4-9680-cdf036c542c6","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:48:41.3434451+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","ElapsedMilliseconds":44183.3433,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:48:41.3458831+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:48:41.3525900+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/register","StatusCode":201,"Elapsed":44205.9666,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44205.9666"}]}}
{"Timestamp":"2024-10-02T09:48:41.3570243+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cc0becf44b01391a109032c66e27c2f0","SpanId":"00f1c03b58dc98bc","Properties":{"ElapsedMilliseconds":44225.3675,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HFF6NHHF:0000000F","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HFF6NHHF"}}
{"Timestamp":"2024-10-02T09:52:45.8198216+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"17","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:52:45.8632593+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"10","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:52:45.8771965+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T09:52:45.9151691+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T09:52:46.2830606+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:52:46.2843583+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:52:46.2861187+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:52:46.2868825+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:52:46.2874633+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T09:52:46.4846156+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"325911512ac570dced548922575cfe1d","SpanId":"4ef93dc466f46237","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:52:46.7825520+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"325911512ac570dced548922575cfe1d","SpanId":"4ef93dc466f46237","Properties":{"ElapsedMilliseconds":298.6087,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:52:46.7875018+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b357b3ca0fd464b53222bd0db19534d4","SpanId":"775cc4105d6569f1","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:52:46.7875018+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"043b1a61b30c5353f086f4b11d416e1c","SpanId":"3411131bf7529b82","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:52:46.7951026+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b357b3ca0fd464b53222bd0db19534d4","SpanId":"775cc4105d6569f1","Properties":{"ElapsedMilliseconds":7.5615,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:52:46.8114471+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"043b1a61b30c5353f086f4b11d416e1c","SpanId":"3411131bf7529b82","Properties":{"ElapsedMilliseconds":23.9384,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:52:46.9286146+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0252347486cdcb5d9b27c094bcb7a3d8","SpanId":"e09e968a057773c4","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:52:46.9954801+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0252347486cdcb5d9b27c094bcb7a3d8","SpanId":"e09e968a057773c4","Properties":{"ElapsedMilliseconds":66.892,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:52:54.3612869+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"907f35aef236f60ff4cefde4478f4b6c","SpanId":"7907994ddca742e8","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:52:54.3888210+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"907f35aef236f60ff4cefde4478f4b6c","SpanId":"7907994ddca742e8","Properties":{"ElapsedMilliseconds":27.5551,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.5433446+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":108,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.5544116+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.5727795+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.5842357+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.6437908+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"6","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.7095505+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"5","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.7157944+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.8056106+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"5","parameters":"@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [Fullname], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.8161579+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.8290769+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"4","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.8578605+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"2","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.8636958+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.8747791+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.8799378+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.9058547+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"7","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [Fullname] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [Role] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17\r\nOUTPUT 1\r\nWHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.9463677+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Customers] ([Id], [IsDeleted], [UserId])\r\nVALUES (@p0, @p1, @p2);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.9649193+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Carts] ([Id], [CustomerId], [IsDeleted])\r\nVALUES (@p0, @p1, @p2);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.9732161+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Auth.RegistrationRequest","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"50715002-0722-4d9f-b403-4f2998fb0c04","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.9953389+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","ElapsedMilliseconds":405.4826,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:08.9993570+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T09:53:09.0031217+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/register","StatusCode":201,"Elapsed":444.7245,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"444.7245"}]}}
{"Timestamp":"2024-10-02T09:53:09.0083169+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"27c8fdefac08c781338f1bca77627af5","SpanId":"7b3935e94034e190","Properties":{"ElapsedMilliseconds":464.986,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HL5MOBQV:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HL5MOBQV"}}
{"Timestamp":"2024-10-02T10:01:00.1368284+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"50","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:01:00.1756862+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:01:00.1906498+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:01:00.2293295+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:01:00.4131497+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:01:00.4139283+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:01:00.4151239+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:01:00.4157462+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:01:00.4162378+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:01:00.6249447+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4978db36490b9109c2b5408946b536de","SpanId":"8c4a043080b75843","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:00.8062732+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4978db36490b9109c2b5408946b536de","SpanId":"8c4a043080b75843","Properties":{"ElapsedMilliseconds":181.9702,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:00.8170677+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eef291b41da56035a01c1ac8f424b92b","SpanId":"329613761d5381db","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:00.8170895+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"23212854ec1636bfc15b6843a1f4c791","SpanId":"5672e8c74f3eb192","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:00.8246741+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eef291b41da56035a01c1ac8f424b92b","SpanId":"329613761d5381db","Properties":{"ElapsedMilliseconds":7.5741,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:00.8396831+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"23212854ec1636bfc15b6843a1f4c791","SpanId":"5672e8c74f3eb192","Properties":{"ElapsedMilliseconds":22.5743,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:01.4833010+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"15be5bce2d46ab1e5696b24381707cda","SpanId":"4e632c6d6ce38199","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:01.5436133+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"15be5bce2d46ab1e5696b24381707cda","SpanId":"4e632c6d6ce38199","Properties":{"ElapsedMilliseconds":60.3395,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:08.6112213+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6d14d6bcd0f9bebac0b037f25e1d70d4","SpanId":"17a3de70e72b5b3c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:08.7071315+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6d14d6bcd0f9bebac0b037f25e1d70d4","SpanId":"17a3de70e72b5b3c","Properties":{"ElapsedMilliseconds":95.9248,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.2334767+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":108,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.2711653+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.3526605+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.3763926+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.5242699+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"elapsed":"12","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.7938358+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"elapsed":"5","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.8215288+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.8443645+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.SerializableError","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.8630209+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","ElapsedMilliseconds":480.4293,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.8684336+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:17.8750583+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/register","StatusCode":400,"Elapsed":592.5901,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"592.5901"}]}}
{"Timestamp":"2024-10-02T10:01:17.8920386+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"176b47e343f1e66913b45bb8f92bb9f8","SpanId":"1e0d6351d873642c","Properties":{"ElapsedMilliseconds":658.4441,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:25.8932010+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":108,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:25.9018401+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:25.9060002+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:25.9095796+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:25.9472372+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.0987200+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.1071919+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.2632786+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"13","parameters":"@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [Fullname], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.2828263+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.3019888+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"3","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.3667110+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"5","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.3746895+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.4011351+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"3","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.4068721+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.4821480+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"12","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [Fullname] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [Role] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17\r\nOUTPUT 1\r\nWHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.6286951+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.6616193+07:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"elapsed":"25","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p4='?' (DbType = Boolean), @p5='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [Carts] ([Id], [CustomerId], [IsDeleted])\r\nVALUES (@p0, @p1, @p2);\r\nINSERT INTO [Customers] ([Id], [IsDeleted], [UserId])\r\nVALUES (@p3, @p4, @p5);","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.7096601+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Carts_Customers_CustomerId\". The conflict occurred in database \"JWTDempDb\", table \"dbo.Customers\", column 'Id'.\r\nThe statement has been terminated.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\nClientConnectionId:3416fe7b-bad2-4613-806a-9fe17656aa87\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"Domain.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Carts_Customers_CustomerId\". The conflict occurred in database \"JWTDempDb\", table \"dbo.Customers\", column 'Id'.\r\nThe statement has been terminated.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\nClientConnectionId:3416fe7b-bad2-4613-806a-9fe17656aa87\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.7642327+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.8102074+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Carts_Customers_CustomerId\". The conflict occurred in database \"JWTDempDb\", table \"dbo.Customers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:3416fe7b-bad2-4613-806a-9fe17656aa87\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"Domain.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Carts_Customers_CustomerId\". The conflict occurred in database \"JWTDempDb\", table \"dbo.Customers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:3416fe7b-bad2-4613-806a-9fe17656aa87\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"4db29f45-f4f8-4ecc-a4ec-51dc03d3b780","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.8308566+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","ElapsedMilliseconds":918.2421,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.8369867+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.8413443+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Carts_Customers_CustomerId\". The conflict occurred in database \"JWTDempDb\", table \"dbo.Customers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:3416fe7b-bad2-4613-806a-9fe17656aa87\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.DeleteAsync(TUser user, CancellationToken cancellationToken)\r\n   at JWTDemo.Controllers.v5.AuthController.Register(RegistrationRequest request) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\AuthController.cs:line 95\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/register","StatusCode":500,"Elapsed":937.0547,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"937.0547"}]}}
{"Timestamp":"2024-10-02T10:01:26.9301524+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Carts_Customers_CustomerId\". The conflict occurred in database \"JWTDempDb\", table \"dbo.Customers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:3416fe7b-bad2-4613-806a-9fe17656aa87\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.DeleteAsync(TUser user, CancellationToken cancellationToken)\r\n   at JWTDemo.Controllers.v5.AuthController.Register(RegistrationRequest request) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\AuthController.cs:line 95\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:01:26.9625838+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b87cb6658e7a6a9ccb2bc4b36d3d5dae","SpanId":"b697dc3713c47a7d","Properties":{"ElapsedMilliseconds":1069.3831,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HPP07SDB:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HPP07SDB"}}
{"Timestamp":"2024-10-02T10:09:33.8787330+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:09:33.9177286+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:09:33.9311210+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:09:33.9679637+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:09:34.2142885+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:09:34.2152388+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:09:34.2164803+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:09:34.2170993+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:09:34.2176182+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:09:34.5512767+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec4656c69c078ea4c1ab1cb96eaafe5a","SpanId":"4c1ea0485aeca7d8","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:34.7088943+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec4656c69c078ea4c1ab1cb96eaafe5a","SpanId":"4c1ea0485aeca7d8","Properties":{"ElapsedMilliseconds":158.2579,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:34.7186119+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4c7758022cd74ae8569bac4377490836","SpanId":"68f4c95439b9d102","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:34.7186118+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0ea55bc1556eee17abe731456706c91e","SpanId":"f503e1a814e601fb","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:34.7244993+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4c7758022cd74ae8569bac4377490836","SpanId":"68f4c95439b9d102","Properties":{"ElapsedMilliseconds":5.8589,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:34.7392780+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0ea55bc1556eee17abe731456706c91e","SpanId":"f503e1a814e601fb","Properties":{"ElapsedMilliseconds":20.6502,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:35.2556975+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"45845d45a98ba531bae63163ee45666a","SpanId":"c4c00cda1c4767f6","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:35.3167049+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"45845d45a98ba531bae63163ee45666a","SpanId":"c4c00cda1c4767f6","Properties":{"ElapsedMilliseconds":61.0005,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:39.2102335+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c6f31f36950c6ea1d6c0e9c84ccf03a1","SpanId":"4135e7e0bc3af337","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:39.2323876+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c6f31f36950c6ea1d6c0e9c84ccf03a1","SpanId":"4135e7e0bc3af337","Properties":{"ElapsedMilliseconds":22.1436,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.1417713+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":108,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.1511215+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.1678893+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.1766438+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.2342203+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"elapsed":"6","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.3371793+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"elapsed":"8","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.3545403+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.3615044+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.SerializableError","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.3674778+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","ElapsedMilliseconds":187.5067,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.3689499+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:09:51.3709238+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/register","StatusCode":400,"Elapsed":217.4107,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"217.4107"}]}}
{"Timestamp":"2024-10-02T10:09:51.3741175+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"35fbee87e2dc7b3ce39608e886ffa40a","SpanId":"89ecc56159907ab7","Properties":{"ElapsedMilliseconds":232.3405,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:0000000B","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.2751377+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":108,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.2855645+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.2891429+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.2910298+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.ViewModels.Auth.RegistrationRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.3038444+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"4","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.3604755+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"7","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.3684999+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.4249158+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"4","parameters":"@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [Fullname], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Role], [SecurityStamp], [TwoFactorEnabled], [UserName])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.5082440+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"24","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.5798876+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"5","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.6080977+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"3","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.6164609+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.6290859+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.6346689+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.6683878+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"13","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [Fullname] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [Role] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17\r\nOUTPUT 1\r\nWHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.7200413+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.7281491+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 450), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [Customers] ([Id], [IsDeleted], [UserId])\r\nVALUES (@p0, @p1, @p2);\r\nINSERT INTO [Carts] ([Id], [CustomerId], [IsDeleted])\r\nVALUES (@p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.7360362+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Auth.RegistrationRequest","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e66aa2d-9eee-4dc3-9daa-cfe3defba821","ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.7478115+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","ElapsedMilliseconds":454.1449,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.7494550+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Register (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:10:00.7504742+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/register","StatusCode":201,"Elapsed":462.0802,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"462.0802"}]}}
{"Timestamp":"2024-10-02T10:10:00.7522613+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c065740e1492c6ad988944e1121bde08","SpanId":"928394cc5881a5b8","Properties":{"ElapsedMilliseconds":477.1167,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLC:0000000D","RequestPath":"/api/v5/Auth/register","ConnectionId":"0HN72HUI54KLC"}}
{"Timestamp":"2024-10-02T10:12:11.7165931+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.7219540+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.7247277+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.7316771+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e84b1a90-f904-4d48-acc4-6a73544173f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.7436372+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"elapsed":"3","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e84b1a90-f904-4d48-acc4-6a73544173f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.8000721+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"elapsed":"4","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e84b1a90-f904-4d48-acc4-6a73544173f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.8074306+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"e84b1a90-f904-4d48-acc4-6a73544173f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.8421524+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e84b1a90-f904-4d48-acc4-6a73544173f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.8463483+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e84b1a90-f904-4d48-acc4-6a73544173f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.8483362+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":112.9541,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.8496333+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:11.8506087+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":127.1045,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"127.1045"}]}}
{"Timestamp":"2024-10-02T10:12:11.8519178+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fa57b70a71c56e198c17db0afaf4f9ad","SpanId":"98b1d66bcf14f072","Properties":{"ElapsedMilliseconds":135.3246,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLD:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:33.4797742+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b5812f304b4800668c7f24c32769204","SpanId":"188e178778c4da13","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLD:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:33.5038132+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b5812f304b4800668c7f24c32769204","SpanId":"188e178778c4da13","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HUI54KLD:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:33.5095477+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b5812f304b4800668c7f24c32769204","SpanId":"188e178778c4da13","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"245e0454-d02d-4a71-93ff-4d822ead8ebd","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72HUI54KLD:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:33.5949167+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b5812f304b4800668c7f24c32769204","SpanId":"188e178778c4da13","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__userId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"245e0454-d02d-4a71-93ff-4d822ead8ebd","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72HUI54KLD:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:33.6060208+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9b5812f304b4800668c7f24c32769204","SpanId":"188e178778c4da13","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"245e0454-d02d-4a71-93ff-4d822ead8ebd","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72HUI54KLD:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:33.6075442+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b5812f304b4800668c7f24c32769204","SpanId":"188e178778c4da13","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":94.2154,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72HUI54KLD:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:33.6095693+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b5812f304b4800668c7f24c32769204","SpanId":"188e178778c4da13","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72HUI54KLD:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:12:33.6106401+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9b5812f304b4800668c7f24c32769204","SpanId":"188e178778c4da13","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":404,"Elapsed":125.5878,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"125.5878"}]}}
{"Timestamp":"2024-10-02T10:12:33.6123023+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b5812f304b4800668c7f24c32769204","SpanId":"188e178778c4da13","Properties":{"ElapsedMilliseconds":132.5296,"StatusCode":404,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72HUI54KLD:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72HUI54KLD"}}
{"Timestamp":"2024-10-02T10:21:13.2609637+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:21:13.3016688+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:21:13.3161174+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:21:13.3508647+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:21:13.5755635+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:21:13.5771369+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:21:13.5784468+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:21:13.5793593+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:21:13.5803419+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:21:14.0098004+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"378249124563068b7b6b8ce993b8390e","SpanId":"8c0f47894e30b0e2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:21:14.1558498+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"378249124563068b7b6b8ce993b8390e","SpanId":"8c0f47894e30b0e2","Properties":{"ElapsedMilliseconds":146.7286,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:21:14.1721228+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"43ebd2af5e7d2390bb12b77e7872956e","SpanId":"83e512205b536ff2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:21:14.1721229+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3ebc1413e289e44cc8e269a25d2a81f8","SpanId":"93ebca4dff1d7672","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:21:14.1868026+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3ebc1413e289e44cc8e269a25d2a81f8","SpanId":"93ebca4dff1d7672","Properties":{"ElapsedMilliseconds":14.639,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:21:14.2067416+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"43ebd2af5e7d2390bb12b77e7872956e","SpanId":"83e512205b536ff2","Properties":{"ElapsedMilliseconds":34.6268,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:21:14.5271948+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a26c596e37d545229b767f82270dcb1a","SpanId":"f28ad79bff86a01a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:21:14.5954479+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a26c596e37d545229b767f82270dcb1a","SpanId":"f28ad79bff86a01a","Properties":{"ElapsedMilliseconds":68.2521,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:21:19.1082584+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"611dec14e28339c8ec120fbc27388bbc","SpanId":"dc87766f1ea5b93e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:21:19.1358017+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"611dec14e28339c8ec120fbc27388bbc","SpanId":"dc87766f1ea5b93e","Properties":{"ElapsedMilliseconds":27.5341,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:22:11.3278081+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:22:11.4746605+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72I52JLDI2:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:22:11.4965061+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"34b8c156-6f3b-48b8-8bee-a0eac6d9a26f","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I52JLDI2:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:22:11.7468924+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"elapsed":"21","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"34b8c156-6f3b-48b8-8bee-a0eac6d9a26f","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I52JLDI2:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:22:11.9212424+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__userId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"34b8c156-6f3b-48b8-8bee-a0eac6d9a26f","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I52JLDI2:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:22:11.9401232+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"34b8c156-6f3b-48b8-8bee-a0eac6d9a26f","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I52JLDI2:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:22:11.9481492+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":443.82,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72I52JLDI2:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:22:11.9510119+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72I52JLDI2:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:22:11.9542684+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":404,"Elapsed":599.2598,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"599.2598"}]}}
{"Timestamp":"2024-10-02T10:22:11.9608831+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"77821acf3b924c62f88ecb332ffde710","SpanId":"63f49e0dcbe5c117","Properties":{"ElapsedMilliseconds":633.0055,"StatusCode":404,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I52JLDI2:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I52JLDI2"}}
{"Timestamp":"2024-10-02T10:23:02.8320400+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"35","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:23:02.8745237+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:23:02.9027138+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:23:02.9392165+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:23:03.3453511+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:23:03.3464655+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:23:03.3484339+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:23:03.3499436+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:23:03.3511523+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:23:03.8630420+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3027f83c727c835bb56938a0bd48b813","SpanId":"e28802474766b856","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:23:04.0755340+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3027f83c727c835bb56938a0bd48b813","SpanId":"e28802474766b856","Properties":{"ElapsedMilliseconds":217.7258,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:23:04.0877734+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd50f3eccc96a35027ae8ef56b837d65","SpanId":"4af9634d6787ed95","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:23:04.1017364+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd50f3eccc96a35027ae8ef56b837d65","SpanId":"4af9634d6787ed95","Properties":{"ElapsedMilliseconds":22.1058,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:23:04.1769937+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f23ba6627c1d57dc3c923e7a54cfb7c6","SpanId":"c35cfaa8692dc375","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:23:04.2118402+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f23ba6627c1d57dc3c923e7a54cfb7c6","SpanId":"c35cfaa8692dc375","Properties":{"ElapsedMilliseconds":35.1437,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:23:04.3216852+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"52609c5ce2c670d96bdfd0a5e01e5c98","SpanId":"d4fec08f593dd4bc","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:23:04.4122855+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"52609c5ce2c670d96bdfd0a5e01e5c98","SpanId":"d4fec08f593dd4bc","Properties":{"ElapsedMilliseconds":90.8511,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:23:54.9959532+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6febaf0adec0ee02652e0c2aba21979","SpanId":"16923a88ec4d1afb","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:23:55.0983171+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6febaf0adec0ee02652e0c2aba21979","SpanId":"16923a88ec4d1afb","Properties":{"ElapsedMilliseconds":103.2543,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:24:01.1734592+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7981bae25e7caf67d1f1f6bbbde50c9b","SpanId":"2d3d9966d6a7c4e6","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:24:01.3334972+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"7981bae25e7caf67d1f1f6bbbde50c9b","SpanId":"2d3d9966d6a7c4e6","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72I638611A:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:24:01.3413494+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"7981bae25e7caf67d1f1f6bbbde50c9b","SpanId":"2d3d9966d6a7c4e6","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72I638611A:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:24:01.3453035+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7981bae25e7caf67d1f1f6bbbde50c9b","SpanId":"2d3d9966d6a7c4e6","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":401,"Elapsed":146.7301,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"146.7301"}]}}
{"Timestamp":"2024-10-02T10:24:01.3525414+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7981bae25e7caf67d1f1f6bbbde50c9b","SpanId":"2d3d9966d6a7c4e6","Properties":{"ElapsedMilliseconds":179.161,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:24:08.0661573+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"00130925f5712270142991635820322a","SpanId":"75792ce0f2b565b0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I638611A:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:24:08.1946216+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"00130925f5712270142991635820322a","SpanId":"75792ce0f2b565b0","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72I638611A:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:24:08.2156958+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"00130925f5712270142991635820322a","SpanId":"75792ce0f2b565b0","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0be12aa8-47a4-4e40-8efe-1e743feea720","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I638611A:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:24:58.0059467+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"00130925f5712270142991635820322a","SpanId":"75792ce0f2b565b0","Properties":{"elapsed":"37","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0be12aa8-47a4-4e40-8efe-1e743feea720","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I638611A:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I638611A"}}
{"Timestamp":"2024-10-02T10:26:58.2060937+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:26:58.2586058+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"16","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:26:58.2722012+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:26:58.3104117+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:26:58.5772850+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:26:58.5781378+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:26:58.5799263+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:26:58.5806708+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:26:58.5813292+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:26:59.2513817+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"71f808eeca3a8838d2580b1e8202f115","SpanId":"38fd7eadf2fa8b90","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:26:59.4216049+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"71f808eeca3a8838d2580b1e8202f115","SpanId":"38fd7eadf2fa8b90","Properties":{"ElapsedMilliseconds":170.7735,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:26:59.4297454+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f981bf7b531dfb584c98ec52845c9ed","SpanId":"b131915b1dc17492","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:26:59.4483643+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f981bf7b531dfb584c98ec52845c9ed","SpanId":"b131915b1dc17492","Properties":{"ElapsedMilliseconds":18.5153,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:26:59.4925682+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"975bdc764f2fe890320d4e0d04bd2070","SpanId":"1ca4f4e13afab266","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:26:59.5129147+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"975bdc764f2fe890320d4e0d04bd2070","SpanId":"1ca4f4e13afab266","Properties":{"ElapsedMilliseconds":20.329,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:26:59.5442911+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c80a67d443e15b5ec070743ba03a3c23","SpanId":"1857a50dedf50e30","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:26:59.6063956+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c80a67d443e15b5ec070743ba03a3c23","SpanId":"1857a50dedf50e30","Properties":{"ElapsedMilliseconds":62.1012,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:02.4413726+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eb817d1465cd0b34c54bb9bc39824429","SpanId":"74cf3ef46c1fe706","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:02.4681434+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eb817d1465cd0b34c54bb9bc39824429","SpanId":"74cf3ef46c1fe706","Properties":{"ElapsedMilliseconds":26.7552,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:07.8401057+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d816b0779b39bbb1e684abea1df45b7f","SpanId":"5871383c17bfc9f0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:07.8684825+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"d816b0779b39bbb1e684abea1df45b7f","SpanId":"5871383c17bfc9f0","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72I89ENHOE:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:07.8729563+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"d816b0779b39bbb1e684abea1df45b7f","SpanId":"5871383c17bfc9f0","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72I89ENHOE:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:07.8752278+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d816b0779b39bbb1e684abea1df45b7f","SpanId":"5871383c17bfc9f0","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":401,"Elapsed":22.7639,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.7639"}]}}
{"Timestamp":"2024-10-02T10:27:07.8820865+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d816b0779b39bbb1e684abea1df45b7f","SpanId":"5871383c17bfc9f0","Properties":{"ElapsedMilliseconds":41.974,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.1668454+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.1756988+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.1802432+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.2006106+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2adf2e08-960d-48d0-8944-c1fb58593572","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.2645683+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"elapsed":"6","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2adf2e08-960d-48d0-8944-c1fb58593572","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.3666727+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"elapsed":"3","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2adf2e08-960d-48d0-8944-c1fb58593572","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.3726329+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"2adf2e08-960d-48d0-8944-c1fb58593572","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.4218275+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2adf2e08-960d-48d0-8944-c1fb58593572","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.4276790+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2adf2e08-960d-48d0-8944-c1fb58593572","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.4341978+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":218.5043,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.4359728+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:32.4375149+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":259.7507,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"259.7507"}]}}
{"Timestamp":"2024-10-02T10:27:32.4400919+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cbc4aad071acf3c0fdb700511156c11a","SpanId":"d5426fee297869c0","Properties":{"ElapsedMilliseconds":273.2366,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.3601557+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.3811299+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.3842898+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"42908822-2271-46c5-b497-ea827094c519","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.4405392+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Properties":{"elapsed":"3","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"42908822-2271-46c5-b497-ea827094c519","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.4837846+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Properties":{"elapsed":"5","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"42908822-2271-46c5-b497-ea827094c519","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.5024499+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.Entities.Cart","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"42908822-2271-46c5-b497-ea827094c519","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.5079572+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":119.5712,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.5093285+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.5106802+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Exception":"System.InvalidOperationException: JsonPropertyInfo 'cart' defined in type 'Domain.Entities.CartItem' is marked required but does not specify a setter.\r\n   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_JsonPropertyRequiredAndNotDeserializable(JsonPropertyInfo jsonPropertyInfo)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":500,"Elapsed":145.0429,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"145.0429"}]}}
{"Timestamp":"2024-10-02T10:27:43.5233346+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Exception":"System.InvalidOperationException: JsonPropertyInfo 'cart' defined in type 'Domain.Entities.CartItem' is marked required but does not specify a setter.\r\n   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_JsonPropertyRequiredAndNotDeserializable(JsonPropertyInfo jsonPropertyInfo)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:27:43.5317654+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6c2f41b2f66b33a5c2f9ed77f225f2af","SpanId":"15aa1511977972c6","Properties":{"ElapsedMilliseconds":171.5976,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I89ENHOE:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I89ENHOE"}}
{"Timestamp":"2024-10-02T10:28:44.0461361+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"55","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:28:44.0863515+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:28:44.0993549+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:28:44.1373236+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:28:44.7920952+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:28:44.7957601+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:28:44.7984289+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:28:44.8000006+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:28:44.8013251+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:28:45.2997426+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"61422a600193c76848066e8e3689029b","SpanId":"0e73817e4752e909","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:28:45.5448360+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"61422a600193c76848066e8e3689029b","SpanId":"0e73817e4752e909","Properties":{"ElapsedMilliseconds":245.7856,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:28:45.5514325+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8724e94c107ae22aeed3280a69d0bc71","SpanId":"86b25507aa1470d6","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:28:45.5514330+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9440dd79ae4bd3f9481ce5fd049ffb6","SpanId":"d2477b7ab94a6e4e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:28:45.5609563+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9440dd79ae4bd3f9481ce5fd049ffb6","SpanId":"d2477b7ab94a6e4e","Properties":{"ElapsedMilliseconds":9.4996,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:28:45.5715808+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8724e94c107ae22aeed3280a69d0bc71","SpanId":"86b25507aa1470d6","Properties":{"ElapsedMilliseconds":20.0768,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:28:45.6739913+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c24405489b483b5be6688870cc8272cb","SpanId":"02621da931681efa","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:28:45.7295677+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c24405489b483b5be6688870cc8272cb","SpanId":"02621da931681efa","Properties":{"ElapsedMilliseconds":55.5727,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:28:56.0562959+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eecc1ae1bdf274f164b2cb9b194a0d98","SpanId":"1851210f9044ea8e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:28:56.0856257+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eecc1ae1bdf274f164b2cb9b194a0d98","SpanId":"1851210f9044ea8e","Properties":{"ElapsedMilliseconds":29.3588,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.5812152+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.6286443+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.6365512+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f78b864d-1727-4acb-a0f8-d4a23c4bd451","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.7290513+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Properties":{"elapsed":"9","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f78b864d-1727-4acb-a0f8-d4a23c4bd451","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.8072003+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Properties":{"elapsed":"6","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f78b864d-1727-4acb-a0f8-d4a23c4bd451","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.8280964+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f78b864d-1727-4acb-a0f8-d4a23c4bd451","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.8386822+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":198.4728,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.8420992+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.8448139+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Exception":"System.ArgumentNullException: Value cannot be null. (Parameter 'source')\r\n   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)\r\n   at System.Linq.Enumerable.Sum[TSource,TResult,TAccumulator](IEnumerable`1 source, Func`2 selector)\r\n   at Domain.ViewModels.Cart.CartResponseDTO.get_TotalPrice() in C:\\Users\\minhd\\source\\repos\\JWTDemo\\Domain\\ViewModels\\Cart\\CartResponseDTO.cs:line 19\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":500,"Elapsed":250.587,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"250.5870"}]}}
{"Timestamp":"2024-10-02T10:29:01.9015068+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Exception":"System.ArgumentNullException: Value cannot be null. (Parameter 'source')\r\n   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)\r\n   at System.Linq.Enumerable.Sum[TSource,TResult,TAccumulator](IEnumerable`1 source, Func`2 selector)\r\n   at Domain.ViewModels.Cart.CartResponseDTO.get_TotalPrice() in C:\\Users\\minhd\\source\\repos\\JWTDemo\\Domain\\ViewModels\\Cart\\CartResponseDTO.cs:line 19\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:29:01.9141223+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7a16bf835370c214c5a6202bd6f739b8","SpanId":"662973706fdd34e2","Properties":{"ElapsedMilliseconds":332.8595,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72I993RRN7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72I993RRN7"}}
{"Timestamp":"2024-10-02T10:34:38.6015720+07:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:34:45.2094171+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"29","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:34:45.2492306+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:34:45.2624873+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:34:45.3066181+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"14","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:34:45.5265850+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:34:45.5276971+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:34:45.5290249+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:34:45.5297498+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:34:45.5303640+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:34:45.7216402+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e1873f628b6962b0eb08bf918fb6a3be","SpanId":"bd283544fe4cfa6b","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:45.8896581+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e1873f628b6962b0eb08bf918fb6a3be","SpanId":"bd283544fe4cfa6b","Properties":{"ElapsedMilliseconds":168.6884,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:45.8941506+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b70b8e59ac9cf761b4a5cc46e6f9655e","SpanId":"9ff03ea0eb52db32","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:45.8941505+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8385d8dad27f78baf68f127f102141eb","SpanId":"30965baac254e2f2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:45.9826443+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b70b8e59ac9cf761b4a5cc46e6f9655e","SpanId":"9ff03ea0eb52db32","Properties":{"ElapsedMilliseconds":88.4631,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:46.0102421+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8385d8dad27f78baf68f127f102141eb","SpanId":"30965baac254e2f2","Properties":{"ElapsedMilliseconds":116.0833,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:46.0362274+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eed7564bf473a40b4bbc1c5343a3d156","SpanId":"a9b5709432ede734","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:46.0945332+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eed7564bf473a40b4bbc1c5343a3d156","SpanId":"a9b5709432ede734","Properties":{"ElapsedMilliseconds":58.2835,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:48.3936827+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e2cf4e0e727188fd0b2abc6f21c1b9d4","SpanId":"81dcffbf1b7d1fc4","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:48.4246946+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e2cf4e0e727188fd0b2abc6f21c1b9d4","SpanId":"81dcffbf1b7d1fc4","Properties":{"ElapsedMilliseconds":31.02,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:53.8556001+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:53.9047926+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72ICKGKRB1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:53.9134015+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"10d8c2f5-ed05-44e3-87a8-17944b9dcd1b","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72ICKGKRB1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:54.0011220+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"elapsed":"10","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"10d8c2f5-ed05-44e3-87a8-17944b9dcd1b","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72ICKGKRB1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:54.0692474+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"elapsed":"6","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"10d8c2f5-ed05-44e3-87a8-17944b9dcd1b","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72ICKGKRB1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:54.1905996+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"10d8c2f5-ed05-44e3-87a8-17944b9dcd1b","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72ICKGKRB1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:54.2040925+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":285.3891,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72ICKGKRB1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:54.2063744+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72ICKGKRB1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:34:54.2096358+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":338.2806,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"338.2806"}]}}
{"Timestamp":"2024-10-02T10:34:54.2151103+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"90a12ac5f13453cd1f98e328d252f329","SpanId":"ec25fdfb50cbd83f","Properties":{"ElapsedMilliseconds":359.4956,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72ICKGKRB1"}}
{"Timestamp":"2024-10-02T10:39:41.0714301+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB2:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:39:41.0865378+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72ICKGKRB2:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:39:41.1036165+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"RouteData":"{action = \"GetProducts\", controller = \"Products\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.ViewModels.Product.ProductDTO]]] GetProducts()","Controller":"JWTDemo.Controllers.v5.ProductsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5ddc3f05-a395-4c91-b168-b872a0938a21","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72ICKGKRB2:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:39:41.2143859+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"elapsed":"55","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl], [c].[Id], [c].[IsDeleted], [c].[Name]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5ddc3f05-a395-4c91-b168-b872a0938a21","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72ICKGKRB2:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:39:41.2820194+07:00","Level":"Information","MessageTemplate":"Result: {@productDTOs}","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"productDTOs":[{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-s","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-1","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"790234193-2","Name":"test1","Description":"tes1111","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"1111","_typeTag":"ProductDTO"},{"CategoryName":"517013541-6","Name":"Apples - Sliced / Wedge","Description":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.\n\nVestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.","imageUrl":null,"Price":66000,"Quantity":0,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"507837385-3","Name":"Shayla","Description":"In hac habitasse platea dictumst. Etiam faucibus cursus urna. Ut tellus.\n\nNulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\n\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.","imageUrl":null,"Price":100000,"Quantity":0,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"Elwood","Description":"Phasellus sit amet erat. Nulla tempus. Vivamus in felis eu sapien cursus vestibulum.","imageUrl":null,"Price":1000000,"Quantity":0,"Code":"27293-016","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"Sally","Description":"Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.\n\nMorbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.\n\nFusce consequat. Nulla nisl. Nunc nisl.","imageUrl":null,"Price":38000,"Quantity":0,"Code":"49884-574","_typeTag":"ProductDTO"}]}}
{"Timestamp":"2024-10-02T10:39:41.3706913+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Domain.ViewModels.Product.ProductDTO, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5ddc3f05-a395-4c91-b168-b872a0938a21","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72ICKGKRB2:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:39:41.3796831+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","ElapsedMilliseconds":269.5049,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72ICKGKRB2:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:39:41.3829387+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72ICKGKRB2:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:39:41.3852011+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Products","StatusCode":200,"Elapsed":303.797,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"303.7970"}]}}
{"Timestamp":"2024-10-02T10:39:41.3905876+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"22daa9d1fa19cf6f3366a7f167c829e7","SpanId":"81e76fc507023ccd","Properties":{"ElapsedMilliseconds":319.3424,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB2:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.0764880+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":127,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.0878170+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.1009811+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.1189381+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.Entities.Cart]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"54ce2506-4f77-43f6-bd71-c974a8a3191e","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.2012573+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"elapsed":"26","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"54ce2506-4f77-43f6-bd71-c974a8a3191e","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.2233317+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"elapsed":"14","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"54ce2506-4f77-43f6-bd71-c974a8a3191e","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.4562561+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"54ce2506-4f77-43f6-bd71-c974a8a3191e","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.4868027+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"elapsed":"25","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p7='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [CartItems] ([Id], [CartId], [IsDeleted], [ProductId], [Quantity])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);\r\nUPDATE [Carts] SET [CustomerId] = @p5, [IsDeleted] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"54ce2506-4f77-43f6-bd71-c974a8a3191e","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.5045648+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.Entities.Cart","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"54ce2506-4f77-43f6-bd71-c974a8a3191e","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.5456798+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":421.4391,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.5522312+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.5563659+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Exception":"System.InvalidOperationException: JsonPropertyInfo 'cart' defined in type 'Domain.Entities.CartItem' is marked required but does not specify a setter.\r\n   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_JsonPropertyRequiredAndNotDeserializable(JsonPropertyInfo jsonPropertyInfo)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":500,"Elapsed":463.6829,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"463.6829"}]}}
{"Timestamp":"2024-10-02T10:41:45.6079463+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Exception":"System.InvalidOperationException: JsonPropertyInfo 'cart' defined in type 'Domain.Entities.CartItem' is marked required but does not specify a setter.\r\n   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_JsonPropertyRequiredAndNotDeserializable(JsonPropertyInfo jsonPropertyInfo)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:41:45.6299812+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"053cc5f5ea964eadbe9725bf2d139499","SpanId":"f502c60fd47f5a05","Properties":{"ElapsedMilliseconds":553.488,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72ICKGKRB2:00000003","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72ICKGKRB2"}}
{"Timestamp":"2024-10-02T10:44:54.4050692+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"28","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:44:54.4471716+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:44:54.4617239+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:44:54.5161883+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:44:54.7791357+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:44:54.7806781+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:44:54.7822959+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:44:54.7832180+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:44:54.7840511+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:44:54.9653919+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6233d7a65f558545bf2a6b6fd8c5a1e0","SpanId":"8a3c381a518f6903","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:44:55.1396549+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6233d7a65f558545bf2a6b6fd8c5a1e0","SpanId":"8a3c381a518f6903","Properties":{"ElapsedMilliseconds":175.363,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:44:55.1559307+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7876aa7d3cb64c8304d4f7ad9c8bd6d0","SpanId":"b0578df72088a52e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:44:55.1559307+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7a21e5f424e6013e0d843d1e7e0dbc60","SpanId":"25cad3d830dd5cc0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:44:55.1605198+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7876aa7d3cb64c8304d4f7ad9c8bd6d0","SpanId":"b0578df72088a52e","Properties":{"ElapsedMilliseconds":4.5295,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:44:55.1744976+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7a21e5f424e6013e0d843d1e7e0dbc60","SpanId":"25cad3d830dd5cc0","Properties":{"ElapsedMilliseconds":18.5656,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:44:55.5815156+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a0022563351de0054a90495b279172c9","SpanId":"63ff9bfed79a21b0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:44:55.6462077+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a0022563351de0054a90495b279172c9","SpanId":"63ff9bfed79a21b0","Properties":{"ElapsedMilliseconds":64.6741,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:44:59.9200262+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8cfa1e88ffeed04a53d6c3d0ccca35c8","SpanId":"c1a2d4dc5020d228","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:44:59.9473368+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8cfa1e88ffeed04a53d6c3d0ccca35c8","SpanId":"c1a2d4dc5020d228","Properties":{"ElapsedMilliseconds":27.2736,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:05.2454360+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:05.3680422+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IIA32U0L:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:05.3930475+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a068e9e2-377d-459a-9b42-04b7f09a33ee","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:05.6357864+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"elapsed":"20","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a068e9e2-377d-459a-9b42-04b7f09a33ee","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:05.8442338+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"elapsed":"8","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a068e9e2-377d-459a-9b42-04b7f09a33ee","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:05.8887035+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a068e9e2-377d-459a-9b42-04b7f09a33ee","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:05.9148605+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":507.7997,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IIA32U0L:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:05.9168389+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IIA32U0L:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:05.9214739+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":648.3968,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"648.3968"}]}}
{"Timestamp":"2024-10-02T10:45:05.9319178+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"60f5d6f8f3b7f05d335aab0cd23aae20","SpanId":"2559252de4c9ce70","Properties":{"ElapsedMilliseconds":686.3665,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:18.3771708+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:0000000D","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:18.3931591+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IIA32U0L:0000000D","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:18.4123735+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"RouteData":"{action = \"GetProducts\", controller = \"Products\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.ViewModels.Product.ProductDTO]]] GetProducts()","Controller":"JWTDemo.Controllers.v5.ProductsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"162925da-8d17-4827-9d32-fcd77e0ec998","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000D","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:18.4791964+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"elapsed":"17","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl], [c].[Id], [c].[IsDeleted], [c].[Name]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"162925da-8d17-4827-9d32-fcd77e0ec998","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000D","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:18.5577831+07:00","Level":"Information","MessageTemplate":"Result: {@productDTOs}","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"productDTOs":[{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-s","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-1","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"790234193-2","Name":"test1","Description":"tes1111","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"1111","_typeTag":"ProductDTO"},{"CategoryName":"517013541-6","Name":"Apples - Sliced / Wedge","Description":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.\n\nVestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.","imageUrl":null,"Price":66000,"Quantity":0,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"507837385-3","Name":"Shayla","Description":"In hac habitasse platea dictumst. Etiam faucibus cursus urna. Ut tellus.\n\nNulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\n\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.","imageUrl":null,"Price":100000,"Quantity":0,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"Elwood","Description":"Phasellus sit amet erat. Nulla tempus. Vivamus in felis eu sapien cursus vestibulum.","imageUrl":null,"Price":1000000,"Quantity":0,"Code":"27293-016","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"Sally","Description":"Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.\n\nMorbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.\n\nFusce consequat. Nulla nisl. Nunc nisl.","imageUrl":null,"Price":38000,"Quantity":0,"Code":"49884-574","_typeTag":"ProductDTO"}]}}
{"Timestamp":"2024-10-02T10:45:18.6322921+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Domain.ViewModels.Product.ProductDTO, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"162925da-8d17-4827-9d32-fcd77e0ec998","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000D","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:18.6389517+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","ElapsedMilliseconds":219.9319,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IIA32U0L:0000000D","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:18.6413634+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IIA32U0L:0000000D","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:18.6441478+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Products","StatusCode":200,"Elapsed":257.2882,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"257.2882"}]}}
{"Timestamp":"2024-10-02T10:45:18.6472366+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1fb91d0556ecdc8b50f8c6d94838e2b5","SpanId":"f92bfd02c1665666","Properties":{"ElapsedMilliseconds":270.0715,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:0000000D","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:31.6328712+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":126,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:31.6466824+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:31.6631499+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:31.6916584+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3224a7a3-73a2-4d33-a725-22e723a704f2","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:31.7507032+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"elapsed":"1","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3224a7a3-73a2-4d33-a725-22e723a704f2","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:31.7550745+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"elapsed":"1","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3224a7a3-73a2-4d33-a725-22e723a704f2","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:31.9298934+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"3224a7a3-73a2-4d33-a725-22e723a704f2","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:31.9554976+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"elapsed":"18","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p7='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [CartItems] ([Id], [CartId], [IsDeleted], [ProductId], [Quantity])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);\r\nUPDATE [Carts] SET [CustomerId] = @p5, [IsDeleted] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3224a7a3-73a2-4d33-a725-22e723a704f2","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:31.9750904+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3224a7a3-73a2-4d33-a725-22e723a704f2","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:32.0059311+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":305.7709,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:32.0106251+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:32.0152577+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":201,"Elapsed":361.3199,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"361.3199"}]}}
{"Timestamp":"2024-10-02T10:45:32.0203728+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e99beab15039c5684319214c37ab27c1","SpanId":"b3a87949733fb024","Properties":{"ElapsedMilliseconds":387.4932,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:50.8217671+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:50.8244762+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IIA32U0L:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:50.8257634+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a068e9e2-377d-459a-9b42-04b7f09a33ee","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IIA32U0L:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:50.8353830+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"elapsed":"4","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a068e9e2-377d-459a-9b42-04b7f09a33ee","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IIA32U0L:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:50.8428803+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"elapsed":"4","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a068e9e2-377d-459a-9b42-04b7f09a33ee","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IIA32U0L:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:50.8465889+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a068e9e2-377d-459a-9b42-04b7f09a33ee","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IIA32U0L:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:50.8478797+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":18.9675,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IIA32U0L:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:50.8496317+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IIA32U0L:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:45:50.8505346+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":26.5094,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.5094"}]}}
{"Timestamp":"2024-10-02T10:45:50.8525164+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"00bf8e8588b9584a468f07a67befa29c","SpanId":"7a476b9639c86af7","Properties":{"ElapsedMilliseconds":30.7835,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IIA32U0L:00000011","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IIA32U0L"}}
{"Timestamp":"2024-10-02T10:47:37.1601112+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"19","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:47:37.2083134+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"10","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:47:37.2221269+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:47:37.2610102+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:47:37.5185607+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:47:37.5197652+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:47:37.5211859+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:47:37.5221222+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:47:37.5224351+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:47:37.8095543+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"35bdccbc380e40e1bd562c2176e19499","SpanId":"d0c2d578f3f5ec91","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:37.9945658+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"35bdccbc380e40e1bd562c2176e19499","SpanId":"d0c2d578f3f5ec91","Properties":{"ElapsedMilliseconds":185.5933,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:37.9979064+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f11057ad3b7185d4ea7b02197e3a26d8","SpanId":"998519b24d83b8e9","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:37.9986437+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"20c08ffab4aa8059fece0c587fd25a84","SpanId":"0f378df7ceceab93","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:38.0096914+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"20c08ffab4aa8059fece0c587fd25a84","SpanId":"0f378df7ceceab93","Properties":{"ElapsedMilliseconds":10.9895,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:38.0188672+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f11057ad3b7185d4ea7b02197e3a26d8","SpanId":"998519b24d83b8e9","Properties":{"ElapsedMilliseconds":20.9734,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:38.1585761+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"43986c86fd8d13d71a49fa3c72a54b6f","SpanId":"fa999faa26d98c04","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:38.2299586+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"43986c86fd8d13d71a49fa3c72a54b6f","SpanId":"fa999faa26d98c04","Properties":{"ElapsedMilliseconds":71.3589,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:44.1675042+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b213a150b29cc7b8b6ecb6176d8aaf25","SpanId":"9baf4d0db0a136a5","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:44.1973492+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b213a150b29cc7b8b6ecb6176d8aaf25","SpanId":"9baf4d0db0a136a5","Properties":{"ElapsedMilliseconds":29.8612,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:49.6607558+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:49.7074819+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IJQK5U0O:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:49.7431620+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73ceec1c-1ed0-45de-9b34-8a33ceb8ebb4","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IJQK5U0O:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:49.8416598+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"elapsed":"15","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73ceec1c-1ed0-45de-9b34-8a33ceb8ebb4","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IJQK5U0O:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:49.9390081+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"elapsed":"8","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c1].[Id], [c1].[CartId], [c1].[IsDeleted], [c1].[ProductId], [c1].[Quantity], [c0].[IsDeleted], [c0].[UserId]\r\nFROM [Carts] AS [c]\r\nINNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[Id]\r\nLEFT JOIN [CartItems] AS [c1] ON [c].[Id] = [c1].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id], [c0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73ceec1c-1ed0-45de-9b34-8a33ceb8ebb4","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IJQK5U0O:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:50.0061194+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"73ceec1c-1ed0-45de-9b34-8a33ceb8ebb4","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IJQK5U0O:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:50.0200514+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":272.4979,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IJQK5U0O:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:50.0218217+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IJQK5U0O:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:47:50.0240514+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":350.2772,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"350.2772"}]}}
{"Timestamp":"2024-10-02T10:47:50.0277217+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c0f4b339bb1d5afa1f640191feb02840","SpanId":"514bddb6cff011ee","Properties":{"ElapsedMilliseconds":366.9478,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IJQK5U0O:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IJQK5U0O"}}
{"Timestamp":"2024-10-02T10:59:55.7977562+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"146","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:59:55.8952092+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:59:55.9104616+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T10:59:55.9484635+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T10:59:56.1301560+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:59:56.1315928+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:59:56.1331404+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:59:56.1340384+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:59:56.1343817+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T10:59:56.6426247+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f3fa09bd6f943db8247e18eb40a02af","SpanId":"19a5ff39f08e3bf1","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T10:59:56.8171632+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f3fa09bd6f943db8247e18eb40a02af","SpanId":"19a5ff39f08e3bf1","Properties":{"ElapsedMilliseconds":175.2336,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T10:59:56.8253624+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"339a5e3a40353ba46a35abaf93a38b93","SpanId":"c70f76ce73a82a5c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T10:59:56.8253624+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a58b30513398e5cffd83f46161796258","SpanId":"53edd3722d832f83","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T10:59:56.8486051+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a58b30513398e5cffd83f46161796258","SpanId":"53edd3722d832f83","Properties":{"ElapsedMilliseconds":23.1293,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T10:59:56.8568546+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"339a5e3a40353ba46a35abaf93a38b93","SpanId":"c70f76ce73a82a5c","Properties":{"ElapsedMilliseconds":31.4896,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T10:59:56.9675075+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7be10c036984285dcf2456bdfbda5f66","SpanId":"df0fbf052d9d0689","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T10:59:57.0273389+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7be10c036984285dcf2456bdfbda5f66","SpanId":"df0fbf052d9d0689","Properties":{"ElapsedMilliseconds":59.8079,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:01.9164310+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b2c68d84ed8312ae49a9cd9106b516d2","SpanId":"d03972127b097209","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:01.9419409+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b2c68d84ed8312ae49a9cd9106b516d2","SpanId":"d03972127b097209","Properties":{"ElapsedMilliseconds":25.5106,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:08.3493576+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:08.3958987+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IQMPSMM7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:08.4020086+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"27db6310-da6f-49ea-98e2-9b0761fe09a7","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IQMPSMM7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:08.4998643+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"elapsed":"14","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"27db6310-da6f-49ea-98e2-9b0761fe09a7","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IQMPSMM7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:08.5735332+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"elapsed":"7","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"27db6310-da6f-49ea-98e2-9b0761fe09a7","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IQMPSMM7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:08.5915367+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"27db6310-da6f-49ea-98e2-9b0761fe09a7","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IQMPSMM7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:08.6018408+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":194.4974,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IQMPSMM7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:08.6030150+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IQMPSMM7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:00:08.6048503+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":242.8703,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"242.8703"}]}}
{"Timestamp":"2024-10-02T11:00:08.6097675+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88deb74985c0d3462d0c2b0d1c785cec","SpanId":"75ec0b2968ea4a82","Properties":{"ElapsedMilliseconds":260.4068,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IQMPSMM7:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IQMPSMM7"}}
{"Timestamp":"2024-10-02T11:02:18.8389955+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"14","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:02:18.8832869+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:02:18.8986786+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T11:02:18.9391517+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"9","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:02:19.1170964+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:02:19.1183630+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:02:19.1204343+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:02:19.1208703+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:02:19.1213395+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:02:19.3304166+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"289eea1c1d84bf09462b3c997e7ca2a6","SpanId":"646917846439f2c5","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:19.4985944+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"289eea1c1d84bf09462b3c997e7ca2a6","SpanId":"646917846439f2c5","Properties":{"ElapsedMilliseconds":168.8021,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:19.5046399+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a8bd023c03031fc3ff0288f162497fa","SpanId":"dac971c888f2af1e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:19.5046399+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8daa24630f1595a1721c633645e11886","SpanId":"a1d5297f74a1dd1f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:19.5111564+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8daa24630f1595a1721c633645e11886","SpanId":"a1d5297f74a1dd1f","Properties":{"ElapsedMilliseconds":6.4007,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:19.5200082+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a8bd023c03031fc3ff0288f162497fa","SpanId":"dac971c888f2af1e","Properties":{"ElapsedMilliseconds":15.3618,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:20.0068555+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0641482c2d9da65e6d039270b5fbacb3","SpanId":"aacab4f157f43e2e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:20.0777529+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0641482c2d9da65e6d039270b5fbacb3","SpanId":"aacab4f157f43e2e","Properties":{"ElapsedMilliseconds":70.9138,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:31.3508859+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7d67ea6771fd04a0b707e3e1d4bca8de","SpanId":"c25a0144a2c4df2d","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:31.4279237+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7d67ea6771fd04a0b707e3e1d4bca8de","SpanId":"c25a0144a2c4df2d","Properties":{"ElapsedMilliseconds":77.032,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:46.6469653+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:46.6760670+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:46.7300790+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:46.7464435+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d5ce787a-057d-4c68-96f5-6c24e5cc90f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:46.9129504+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"elapsed":"25","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d5ce787a-057d-4c68-96f5-6c24e5cc90f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:47.2014374+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"elapsed":"4","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d5ce787a-057d-4c68-96f5-6c24e5cc90f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:47.2145847+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"d5ce787a-057d-4c68-96f5-6c24e5cc90f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:47.2858005+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d5ce787a-057d-4c68-96f5-6c24e5cc90f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:47.3055580+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d5ce787a-057d-4c68-96f5-6c24e5cc90f9","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:47.3177049+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":566.6169,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:47.3201339+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:02:47.3250349+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":640.6822,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"640.6822"}]}}
{"Timestamp":"2024-10-02T11:02:47.3317747+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9d5a00c1ffd965f2e65d2fb5e57b5771","SpanId":"ff7dfba372cd7f17","Properties":{"ElapsedMilliseconds":684.7858,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:01.0979297+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:01.1795340+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:01.1856740+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:01.3480787+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"elapsed":"7","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:01.4723939+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"elapsed":"10","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:01.5082736+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:01.5283483+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":338.9807,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IS1A8SHN:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:01.5316531+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:01.5324971+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":410.087,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"410.0870"}]}}
{"Timestamp":"2024-10-02T11:03:01.5348641+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5cf71e1a738aef9d967d972758c3f593","SpanId":"f4a5ad8f57e519a3","Properties":{"ElapsedMilliseconds":436.9346,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:06.9386764+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:06.9548593+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:06.9707063+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"RouteData":"{action = \"GetProducts\", controller = \"Products\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.ViewModels.Product.ProductDTO]]] GetProducts()","Controller":"JWTDemo.Controllers.v5.ProductsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d01b7a0b-82d0-49eb-a74e-605ff9cb3350","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:07.0509185+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"elapsed":"9","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl], [c].[Id], [c].[IsDeleted], [c].[Name]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d01b7a0b-82d0-49eb-a74e-605ff9cb3350","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:07.1319031+07:00","Level":"Information","MessageTemplate":"Result: {@productDTOs}","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"productDTOs":[{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-s","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-1","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"790234193-2","Name":"test1","Description":"tes1111","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"1111","_typeTag":"ProductDTO"},{"CategoryName":"517013541-6","Name":"Apples - Sliced / Wedge","Description":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.\n\nVestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.","imageUrl":null,"Price":66000,"Quantity":0,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"507837385-3","Name":"Shayla","Description":"In hac habitasse platea dictumst. Etiam faucibus cursus urna. Ut tellus.\n\nNulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\n\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.","imageUrl":null,"Price":100000,"Quantity":0,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"Elwood","Description":"Phasellus sit amet erat. Nulla tempus. Vivamus in felis eu sapien cursus vestibulum.","imageUrl":null,"Price":1000000,"Quantity":0,"Code":"27293-016","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"Sally","Description":"Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.\n\nMorbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.\n\nFusce consequat. Nulla nisl. Nunc nisl.","imageUrl":null,"Price":38000,"Quantity":0,"Code":"49884-574","_typeTag":"ProductDTO"}]}}
{"Timestamp":"2024-10-02T11:03:07.2539778+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Domain.ViewModels.Product.ProductDTO, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d01b7a0b-82d0-49eb-a74e-605ff9cb3350","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72IS1A8SHN:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:07.2624605+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","ElapsedMilliseconds":280.1356,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IS1A8SHN:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:07.2672273+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:03:07.2696356+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Products","StatusCode":200,"Elapsed":323.2244,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"323.2244"}]}}
{"Timestamp":"2024-10-02T11:03:07.2725545+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e13e4ed6aea88e51803d6f2c39412c97","SpanId":"cfdce324b27aae6f","Properties":{"ElapsedMilliseconds":333.8553,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.4336490+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":129,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.4406637+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.4454776+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.4568194+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.5016918+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"elapsed":"6","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.5258223+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"elapsed":"9","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.7283328+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"elapsed":"9","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p7='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [CartItems] ([Id], [CartId], [IsDeleted], [ProductId], [Quantity])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);\r\nUPDATE [Carts] SET [CustomerId] = @p5, [IsDeleted] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.7452976+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.7620080+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":298.497,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.7636690+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:05.7643608+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":201,"Elapsed":321.2072,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"321.2072"}]}}
{"Timestamp":"2024-10-02T11:04:05.7655921+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"71ad74d8135a4453af3d73ed5cce3346","SpanId":"20605ebabb9069d6","Properties":{"ElapsedMilliseconds":331.9557,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:18.3950224+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:18.4034587+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:18.4052100+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:18.4131941+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"elapsed":"1","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:18.4400627+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"elapsed":"18","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:18.4505692+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:18.4545487+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":45.8245,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IS1A8SHN:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:18.4576958+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:18.4594534+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":56.6289,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"56.6289"}]}}
{"Timestamp":"2024-10-02T11:04:18.4747376+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0fc49fc3a6f8c7e938ceb9ce036f7684","SpanId":"fd9c4d8e26c3c0d9","Properties":{"ElapsedMilliseconds":79.5686,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000013","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:41.7046501+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:41.7121875+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:41.7142962+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:41.7271830+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"elapsed":"6","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:41.7390705+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"elapsed":"5","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:41.7437187+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:41.7475594+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":29.7679,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IS1A8SHN:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:41.7496902+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:41.7517845+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":40.007,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.0070"}]}}
{"Timestamp":"2024-10-02T11:04:41.7553660+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"96566864982c082db69978ed15e78236","SpanId":"c2b9f8ec03162455","Properties":{"ElapsedMilliseconds":50.7038,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000015","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.5653165+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":129,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.5712880+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.5725263+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.5737673+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.5859068+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"elapsed":"6","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.6038438+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"elapsed":"9","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.6337757+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"elapsed":"12","parameters":"@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p4='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [CartItems] SET [Quantity] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;\r\nUPDATE [Carts] SET [CustomerId] = @p2, [IsDeleted] = @p3\r\nOUTPUT 1\r\nWHERE [Id] = @p4;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.6429343+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3edb68af-b45f-4498-b568-c620c83bbfe7","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.6471232+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":71.387,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.6487389+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:04:58.6497801+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":201,"Elapsed":77.5922,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"77.5922"}]}}
{"Timestamp":"2024-10-02T11:04:58.6520261+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"17cf1b0c5a52c3340392a5af9d9e1546","SpanId":"5599052e48011d14","Properties":{"ElapsedMilliseconds":86.7037,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000017","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:05:05.2486889+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000019","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:05:05.2561592+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000019","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:05:05.2592218+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000019","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:05:05.2686360+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"elapsed":"1","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000019","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:05:05.2767133+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"elapsed":"1","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000019","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:05:05.2822392+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2791f76b-c551-40c7-97ea-bd329dc0a005","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IS1A8SHN:00000019","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:05:05.2854547+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":23.4755,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72IS1A8SHN:00000019","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:05:05.2885141+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IS1A8SHN:00000019","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:05:05.2906435+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":35.2911,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.2911"}]}}
{"Timestamp":"2024-10-02T11:05:05.2947173+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b1fd4e81da962f96c8819c32a1bb17f7","SpanId":"9ccef48a9b34f77f","Properties":{"ElapsedMilliseconds":46.0029,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IS1A8SHN:00000019","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IS1A8SHN"}}
{"Timestamp":"2024-10-02T11:07:14.3264470+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"36","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:07:14.4296000+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"9","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:07:14.4622814+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T11:07:14.5054717+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:07:15.0573800+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:07:15.0590392+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:07:15.0610730+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:07:15.0623319+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:07:15.0640170+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:07:15.6377978+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"43bc94abc0fd136fb85887927c9e0c3e","SpanId":"c7f120833e891a75","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805D:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IUPH805D"}}
{"Timestamp":"2024-10-02T11:07:15.8662698+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"43bc94abc0fd136fb85887927c9e0c3e","SpanId":"c7f120833e891a75","Properties":{"ElapsedMilliseconds":232.94,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805D:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72IUPH805D"}}
{"Timestamp":"2024-10-02T11:07:15.8690997+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9f9457786710dd00fff5aaf19584f1d1","SpanId":"5867fb91cff5ff18","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805D:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IUPH805D"}}
{"Timestamp":"2024-10-02T11:07:15.8690996+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af6cfe520cafcd0726980b812fe92d64","SpanId":"cf705ff8dcf7ca69","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805D:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IUPH805D"}}
{"Timestamp":"2024-10-02T11:07:15.8837832+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af6cfe520cafcd0726980b812fe92d64","SpanId":"cf705ff8dcf7ca69","Properties":{"ElapsedMilliseconds":14.6412,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805D:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72IUPH805D"}}
{"Timestamp":"2024-10-02T11:07:15.8993134+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9f9457786710dd00fff5aaf19584f1d1","SpanId":"5867fb91cff5ff18","Properties":{"ElapsedMilliseconds":30.2689,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805D:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72IUPH805D"}}
{"Timestamp":"2024-10-02T11:07:16.0263450+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"843179146a2080cc2773b65ca47b33b2","SpanId":"d7516109b4bcd390","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805D:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IUPH805D"}}
{"Timestamp":"2024-10-02T11:07:16.1072911+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"843179146a2080cc2773b65ca47b33b2","SpanId":"d7516109b4bcd390","Properties":{"ElapsedMilliseconds":81.2736,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805D:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72IUPH805D"}}
{"Timestamp":"2024-10-02T11:07:29.4140742+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d4c1c4646481933ab231355d74219bd0","SpanId":"054200fbbd2051cd","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805E:00000001","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IUPH805E"}}
{"Timestamp":"2024-10-02T11:07:29.4400149+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d4c1c4646481933ab231355d74219bd0","SpanId":"054200fbbd2051cd","Properties":{"ElapsedMilliseconds":26.3154,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805E:00000001","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72IUPH805E"}}
{"Timestamp":"2024-10-02T11:07:35.0458859+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"014989dacc53019fb146968bf6630c1a","SpanId":"0b765ec8816b31a9","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72IUPH805E:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IUPH805E"}}
{"Timestamp":"2024-10-02T11:07:35.1715779+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"014989dacc53019fb146968bf6630c1a","SpanId":"0b765ec8816b31a9","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72IUPH805E:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IUPH805E"}}
{"Timestamp":"2024-10-02T11:07:35.1792315+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"014989dacc53019fb146968bf6630c1a","SpanId":"0b765ec8816b31a9","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd8836d4-6265-4dfe-9e56-2b8ef97e169e","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IUPH805E:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IUPH805E"}}
{"Timestamp":"2024-10-02T11:07:43.2490186+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"014989dacc53019fb146968bf6630c1a","SpanId":"0b765ec8816b31a9","Properties":{"elapsed":"26","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd8836d4-6265-4dfe-9e56-2b8ef97e169e","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IUPH805E:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IUPH805E"}}
{"Timestamp":"2024-10-02T11:07:50.9559942+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"014989dacc53019fb146968bf6630c1a","SpanId":"0b765ec8816b31a9","Properties":{"elapsed":"14","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd8836d4-6265-4dfe-9e56-2b8ef97e169e","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72IUPH805E:00000003","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72IUPH805E"}}
{"Timestamp":"2024-10-02T11:11:35.4540001+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"38","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:11:35.5257089+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"18","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:11:35.5575684+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T11:11:35.5998966+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"9","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:11:36.0494036+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:11:36.0507772+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:11:36.0528464+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:11:36.0540562+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:11:36.0551317+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:11:36.6493701+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bbf61e4cdb8b7c4c13cf7a3c1461b3ae","SpanId":"501d0a15956144bd","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:36.9342338+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bbf61e4cdb8b7c4c13cf7a3c1461b3ae","SpanId":"501d0a15956144bd","Properties":{"ElapsedMilliseconds":288.8464,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:36.9361142+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"971d0f4de23218a650cd7a27cb08cba9","SpanId":"673911fe2b74901d","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:36.9380955+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e2377bd87dc8dfed6c3aff60915696c7","SpanId":"29d64c1fbd2d83e7","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:36.9553915+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e2377bd87dc8dfed6c3aff60915696c7","SpanId":"29d64c1fbd2d83e7","Properties":{"ElapsedMilliseconds":17.3781,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:36.9800633+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"971d0f4de23218a650cd7a27cb08cba9","SpanId":"673911fe2b74901d","Properties":{"ElapsedMilliseconds":43.9244,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:37.1430777+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6beefbf836aa22e68236430ea5f0dfec","SpanId":"41a506db36a7e94a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:37.2434555+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6beefbf836aa22e68236430ea5f0dfec","SpanId":"41a506db36a7e94a","Properties":{"ElapsedMilliseconds":100.8355,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:40.2668329+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"48fe99a7572e930571fc1493e3017550","SpanId":"1a570648730ec486","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:40.3546210+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"48fe99a7572e930571fc1493e3017550","SpanId":"1a570648730ec486","Properties":{"ElapsedMilliseconds":88.1545,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:45.1172697+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:45.4445853+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J17AMQA3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:45.4658345+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"01688bf3-90f3-49ee-a57a-dffebd535e9a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J17AMQA3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:47.4902179+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"elapsed":"33","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"01688bf3-90f3-49ee-a57a-dffebd535e9a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J17AMQA3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:49.0067529+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"elapsed":"15","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"01688bf3-90f3-49ee-a57a-dffebd535e9a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J17AMQA3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:49.0842242+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"01688bf3-90f3-49ee-a57a-dffebd535e9a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J17AMQA3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:49.1160446+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":3637.6018,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72J17AMQA3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:49.1191666+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J17AMQA3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:11:49.1240607+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":3980.3471,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3980.3471"}]}}
{"Timestamp":"2024-10-02T11:11:49.1337800+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"685ec536063a0b9d1796a97a4164143e","SpanId":"e1ebf55297055964","Properties":{"ElapsedMilliseconds":4016.4326,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J17AMQA3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J17AMQA3"}}
{"Timestamp":"2024-10-02T11:16:23.7777787+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"15","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:16:23.8189002+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:16:23.8335772+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T11:16:23.8762921+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"12","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:16:24.1514153+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:16:24.1526747+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:16:24.1538998+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:16:24.1548091+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:16:24.1552909+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:16:24.5182220+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1fcce2c6cc9b907b30008496bf7a5d3b","SpanId":"4a5c7561b73b1679","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:24.6894506+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1fcce2c6cc9b907b30008496bf7a5d3b","SpanId":"4a5c7561b73b1679","Properties":{"ElapsedMilliseconds":171.9331,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:24.6932755+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0c97f15c56e3543659dace6dfa408e1b","SpanId":"0954effc157f5c3a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:24.6932755+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d78ef0ae05129e088c90e3f9533296e","SpanId":"c9a60a2c213ebf73","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:24.7011320+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0c97f15c56e3543659dace6dfa408e1b","SpanId":"0954effc157f5c3a","Properties":{"ElapsedMilliseconds":7.8289,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:24.7162268+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d78ef0ae05129e088c90e3f9533296e","SpanId":"c9a60a2c213ebf73","Properties":{"ElapsedMilliseconds":22.9497,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:24.8364044+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e745eb8ebdcf015b112ca191db58ece","SpanId":"142d3ae327a4409a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:24.9088532+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e745eb8ebdcf015b112ca191db58ece","SpanId":"142d3ae327a4409a","Properties":{"ElapsedMilliseconds":72.4621,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:36.5766824+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d9e0b739e7024644faf3fac939742a50","SpanId":"a0261a0b4af5cbef","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:36.6626539+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d9e0b739e7024644faf3fac939742a50","SpanId":"a0261a0b4af5cbef","Properties":{"ElapsedMilliseconds":85.9753,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:40.7260940+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"efba55e43fe6da6beec8cc37e8ecab12","SpanId":"b4d01a66db1d01f8","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:40.8626383+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"efba55e43fe6da6beec8cc37e8ecab12","SpanId":"b4d01a66db1d01f8","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J3T68KS3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:40.8780969+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"efba55e43fe6da6beec8cc37e8ecab12","SpanId":"b4d01a66db1d01f8","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"34edba18-4011-4c72-bd8e-4b2114193dbe","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J3T68KS3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:41.1363140+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"efba55e43fe6da6beec8cc37e8ecab12","SpanId":"b4d01a66db1d01f8","Properties":{"elapsed":"16","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"34edba18-4011-4c72-bd8e-4b2114193dbe","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J3T68KS3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:41.2453886+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"efba55e43fe6da6beec8cc37e8ecab12","SpanId":"b4d01a66db1d01f8","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":360.4648,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72J3T68KS3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:41.2492412+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"efba55e43fe6da6beec8cc37e8ecab12","SpanId":"b4d01a66db1d01f8","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J3T68KS3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:41.2536835+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"efba55e43fe6da6beec8cc37e8ecab12","SpanId":"b4d01a66db1d01f8","Exception":"System.AggregateException: One or more errors occurred. (The expression 'x.CartItems.AsQueryable().Select(ci => ci.Product)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.)\r\n ---> System.InvalidOperationException: The expression 'x.CartItems.AsQueryable().Select(ci => ci.Product)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|36_0(Expression currentExpression, Expression includeExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)\r\n   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at DataAccess.Service.GenericRepository`1.GetAsync(Expression`1 expression, List`1 includes) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\DataAccess\\Repositories\\GenericRepository.cs:line 62\r\n   --- End of inner exception stack trace ---\r\n   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)\r\n   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)\r\n   at JWTDemo.Controllers.v5.CartsController.GetCartAsync() in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 140\r\n   at JWTDemo.Controllers.v5.CartsController.GetCart() in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 37\r\n   at lambda_method30(Closure, Object, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":500,"Elapsed":509.4241,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"509.4241"}]}}
{"Timestamp":"2024-10-02T11:16:41.3892331+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"efba55e43fe6da6beec8cc37e8ecab12","SpanId":"b4d01a66db1d01f8","Exception":"System.AggregateException: One or more errors occurred. (The expression 'x.CartItems.AsQueryable().Select(ci => ci.Product)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.)\r\n ---> System.InvalidOperationException: The expression 'x.CartItems.AsQueryable().Select(ci => ci.Product)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|36_0(Expression currentExpression, Expression includeExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)\r\n   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at DataAccess.Service.GenericRepository`1.GetAsync(Expression`1 expression, List`1 includes) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\DataAccess\\Repositories\\GenericRepository.cs:line 62\r\n   --- End of inner exception stack trace ---\r\n   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)\r\n   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)\r\n   at JWTDemo.Controllers.v5.CartsController.GetCartAsync() in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 140\r\n   at JWTDemo.Controllers.v5.CartsController.GetCart() in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 37\r\n   at lambda_method30(Closure, Object, Object[])\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72J3T68KS3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:16:41.4370270+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"efba55e43fe6da6beec8cc37e8ecab12","SpanId":"b4d01a66db1d01f8","Properties":{"ElapsedMilliseconds":710.915,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J3T68KS3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J3T68KS3"}}
{"Timestamp":"2024-10-02T11:26:09.0962566+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"23","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:26:09.1412246+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"9","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:26:09.1552481+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T11:26:09.1916945+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:26:09.5383747+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:26:09.5402704+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:26:09.5415347+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:26:09.5429212+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:26:09.5435203+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:26:09.8610536+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"09865732f8e1feb66e214feb46afcf4c","SpanId":"cf41d3a73d2db4ff","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:10.0109940+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"09865732f8e1feb66e214feb46afcf4c","SpanId":"cf41d3a73d2db4ff","Properties":{"ElapsedMilliseconds":150.5624,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:10.0248874+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b48507a3078ffe2f7466d721a350e9d3","SpanId":"ff7d8a0c0f241a10","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:10.0248873+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8dc6ae8dda114c6cb2e15711f4678b69","SpanId":"666ffb0e97071bcb","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:10.1326511+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b48507a3078ffe2f7466d721a350e9d3","SpanId":"ff7d8a0c0f241a10","Properties":{"ElapsedMilliseconds":107.6591,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:10.1675377+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8dc6ae8dda114c6cb2e15711f4678b69","SpanId":"666ffb0e97071bcb","Properties":{"ElapsedMilliseconds":142.6477,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:10.1957421+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a9302df28b9b5f7c9d5c44abe56066cc","SpanId":"bae408507eb038ac","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:10.2531672+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a9302df28b9b5f7c9d5c44abe56066cc","SpanId":"bae408507eb038ac","Properties":{"ElapsedMilliseconds":57.416,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:12.1295865+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b2005a2c92f23f20e38837fa0fe70528","SpanId":"55a13abd54d58368","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:12.1599857+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b2005a2c92f23f20e38837fa0fe70528","SpanId":"55a13abd54d58368","Properties":{"ElapsedMilliseconds":30.4322,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.2370807+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.2803489+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.2893125+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c20fefbd-5e1c-4274-b5cb-c82e8ffa8872","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.3828708+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"elapsed":"11","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c20fefbd-5e1c-4274-b5cb-c82e8ffa8872","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.4653488+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"elapsed":"13","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c20fefbd-5e1c-4274-b5cb-c82e8ffa8872","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.5175246+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"elapsed":"24","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c20fefbd-5e1c-4274-b5cb-c82e8ffa8872","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.5504570+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c20fefbd-5e1c-4274-b5cb-c82e8ffa8872","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.5619204+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":268.0248,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.5637348+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:26:17.5666060+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":318.8438,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"318.8438"}]}}
{"Timestamp":"2024-10-02T11:26:17.5719865+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f1f982283944087cf744acd24cb9e670","SpanId":"1e3f9d010f1a9513","Properties":{"ElapsedMilliseconds":334.8883,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.0979097+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":126,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.1064702+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.1096965+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.1162154+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.1400568+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"elapsed":"6","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.1519978+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"elapsed":"7","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.2157379+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"elapsed":"8","parameters":"@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p4='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [CartItems] SET [Quantity] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;\r\nUPDATE [Carts] SET [CustomerId] = @p2, [IsDeleted] = @p3\r\nOUTPUT 1\r\nWHERE [Id] = @p4;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.2297106+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.2401617+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":120.5037,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.2411515+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:37.2418860+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":201,"Elapsed":133.8621,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"133.8621"}]}}
{"Timestamp":"2024-10-02T11:27:37.2435957+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c762be85b77ff3ef358a77ed649c4a8a","SpanId":"3c5b552a11415b2c","Properties":{"ElapsedMilliseconds":145.7028,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6000104+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":126,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6059022+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6087190+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6100339+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6218708+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"elapsed":"6","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6334654+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"elapsed":"7","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6695479+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"elapsed":"17","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p7='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [CartItems] ([Id], [CartId], [IsDeleted], [ProductId], [Quantity])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);\r\nUPDATE [Carts] SET [CustomerId] = @p5, [IsDeleted] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6747561+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3fd48a0e-a535-4c53-a1c8-71d5eb795b37","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6769979+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":64.5252,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6795185+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:27:46.6818365+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":201,"Elapsed":74.8692,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"74.8692"}]}}
{"Timestamp":"2024-10-02T11:27:46.6838024+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38daaa6f5a37bb75964add817d610701","SpanId":"0baf0c2716b20985","Properties":{"ElapsedMilliseconds":83.8003,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72J9BL8ARJ:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72J9BL8ARJ"}}
{"Timestamp":"2024-10-02T11:29:18.3629918+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"15","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:29:18.4040772+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:29:18.4187736+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T11:29:18.4601753+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:29:18.6647510+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:29:18.6663201+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:29:18.6679445+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:29:18.6686974+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:29:18.6692808+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:29:19.0982623+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0923525858e2254aa68e285b9a75b32f","SpanId":"5cb701dd51193c47","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:19.2755410+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0923525858e2254aa68e285b9a75b32f","SpanId":"5cb701dd51193c47","Properties":{"ElapsedMilliseconds":177.9181,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:19.2828213+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"acc37b629280f1105e6e0c5d708d004e","SpanId":"403f1b53c942e1c3","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:19.2828212+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1509fa307a170c8f8903142b61851770","SpanId":"399d02c1fba478cb","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:19.2886515+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1509fa307a170c8f8903142b61851770","SpanId":"399d02c1fba478cb","Properties":{"ElapsedMilliseconds":5.7949,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:19.2997871+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"acc37b629280f1105e6e0c5d708d004e","SpanId":"403f1b53c942e1c3","Properties":{"ElapsedMilliseconds":16.9683,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:19.8387048+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f85a3b2642260e41fccb762c11c4c8c","SpanId":"9940758ea1ace51a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:19.8959831+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f85a3b2642260e41fccb762c11c4c8c","SpanId":"9940758ea1ace51a","Properties":{"ElapsedMilliseconds":57.2701,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:24.3858283+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a9da16d6839dcfcccecaf839bfc87f7d","SpanId":"f3966ed61122619b","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:24.4622704+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a9da16d6839dcfcccecaf839bfc87f7d","SpanId":"f3966ed61122619b","Properties":{"ElapsedMilliseconds":76.3988,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:30.3235361+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:30.4080545+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:30.4204585+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e4600fc8-faa2-41d5-87e2-953f93072651","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:30.6627108+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"elapsed":"9","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4600fc8-faa2-41d5-87e2-953f93072651","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:30.8641791+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"elapsed":"24","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4600fc8-faa2-41d5-87e2-953f93072651","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:30.9423515+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"elapsed":"12","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4600fc8-faa2-41d5-87e2-953f93072651","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:30.9447088+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":517.2334,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:30.9458830+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:30.9515557+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Exception":"AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nAsyncStateMachineBox`1 -> CartResponseDTO\r\nSystem.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Domain.Entities.Cart, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[JWTDemo.Controllers.v5.CartsController+<GetCartAsync>d__7, JWTDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> Domain.ViewModels.Cart.CartResponseDTO\r\n   at lambda_method137(Closure, Object, CartResponseDTO, ResolutionContext)\r\n   at JWTDemo.Controllers.v5.CartsController.GetCart() in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 39\r\n   at lambda_method33(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":500,"Elapsed":602.1536,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"602.1536"}]}}
{"Timestamp":"2024-10-02T11:29:30.9911214+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"elapsed":"2","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e4600fc8-faa2-41d5-87e2-953f93072651","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:31.0388253+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Exception":"AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nAsyncStateMachineBox`1 -> CartResponseDTO\r\nSystem.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Domain.Entities.Cart, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[JWTDemo.Controllers.v5.CartsController+<GetCartAsync>d__7, JWTDemo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> Domain.ViewModels.Cart.CartResponseDTO\r\n   at lambda_method137(Closure, Object, CartResponseDTO, ResolutionContext)\r\n   at JWTDemo.Controllers.v5.CartsController.GetCart() in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 39\r\n   at lambda_method33(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:29:31.0620981+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aa406e1b6ce7f084b0e86c2f44598e69","SpanId":"1e9399138f384af2","Properties":{"ElapsedMilliseconds":738.4593,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JB420354:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JB420354"}}
{"Timestamp":"2024-10-02T11:30:20.0920650+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"16","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:30:20.1322993+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:30:20.1455701+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T11:30:20.1812084+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:30:20.6021793+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:30:20.6031075+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:30:20.6044046+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:30:20.6050607+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:30:20.6056168+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:30:20.8308445+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"874000558480c503cd0677869467d6c2","SpanId":"10b564c3cabae166","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:20.9810293+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"874000558480c503cd0677869467d6c2","SpanId":"10b564c3cabae166","Properties":{"ElapsedMilliseconds":150.8596,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:20.9918691+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f5168ea2e724506fd070735f07d39c2","SpanId":"e3b091cc057490ae","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:20.9918690+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf29fc20092d1ba48912056c7091afbf","SpanId":"7d43a0efd251ffde","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:20.9993934+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf29fc20092d1ba48912056c7091afbf","SpanId":"7d43a0efd251ffde","Properties":{"ElapsedMilliseconds":7.4971,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:21.0078864+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f5168ea2e724506fd070735f07d39c2","SpanId":"e3b091cc057490ae","Properties":{"ElapsedMilliseconds":16.0225,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:21.2585159+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69d9825d95395c8caf1cf6703073e8a7","SpanId":"962ac612aa8ac5c5","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:21.3199846+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69d9825d95395c8caf1cf6703073e8a7","SpanId":"962ac612aa8ac5c5","Properties":{"ElapsedMilliseconds":61.4628,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:23.5769820+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"00363c9d9c4abc509b2d9f259490cd11","SpanId":"44468431481ae008","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:23.6024580+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"00363c9d9c4abc509b2d9f259490cd11","SpanId":"44468431481ae008","Properties":{"ElapsedMilliseconds":25.4534,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.0266221+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.0764318+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.0847979+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7543065b-a5da-4f67-8ef3-fd1001ec5944","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.1740541+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"elapsed":"7","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7543065b-a5da-4f67-8ef3-fd1001ec5944","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.2441789+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"elapsed":"6","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7543065b-a5da-4f67-8ef3-fd1001ec5944","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.2805720+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"elapsed":"7","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7543065b-a5da-4f67-8ef3-fd1001ec5944","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.3001871+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7543065b-a5da-4f67-8ef3-fd1001ec5944","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.3106500+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7543065b-a5da-4f67-8ef3-fd1001ec5944","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.3216297+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":230.5783,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.3227623+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:28.3249513+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":282.3437,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"282.3437"}]}}
{"Timestamp":"2024-10-02T11:30:28.3285734+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d423797d95821285e15802a0c24e2796","SpanId":"bb999e6ce692225d","Properties":{"ElapsedMilliseconds":301.9372,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.0228375+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":126,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.0303078+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.0336218+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.0393879+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.0629948+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"elapsed":"6","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.0755396+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"elapsed":"8","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.0850240+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"elapsed":"5","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.0899771+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.2464862+07:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"elapsed":"73","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p7='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [CartItems] ([Id], [CartId], [IsDeleted], [ProductId], [Quantity])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);\r\nUPDATE [Carts] SET [CustomerId] = @p5, [IsDeleted] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.2781459+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_CartItems_Products_ProductId\". The conflict occurred in database \"JWTDempDb\", table \"dbo.Products\", column 'Id'.\r\nThe statement has been terminated.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\nClientConnectionId:e5798fc2-2d54-4c75-b786-0c5b40ea1a25\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"Domain.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_CartItems_Products_ProductId\". The conflict occurred in database \"JWTDempDb\", table \"dbo.Products\", column 'Id'.\r\nThe statement has been terminated.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\nClientConnectionId:e5798fc2-2d54-4c75-b786-0c5b40ea1a25\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.2994128+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":255.4409,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.3023806+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.3040347+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Exception":"System.Exception: An error occurred while saving the entity changes. See the inner exception for details.\r\n   at JWTDemo.Controllers.v5.CartsController.AddToCart(CartItemRequestDTO cartItemRequestDTO) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 106\r\n   at lambda_method200(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":500,"Elapsed":271.8696,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"271.8696"}]}}
{"Timestamp":"2024-10-02T11:30:42.4052832+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Exception":"System.Exception: An error occurred while saving the entity changes. See the inner exception for details.\r\n   at JWTDemo.Controllers.v5.CartsController.AddToCart(CartItemRequestDTO cartItemRequestDTO) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 106\r\n   at lambda_method200(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:42.4182691+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b4c805702744b8dba5c647b790cfced0","SpanId":"51a5a3e4fea5e095","Properties":{"ElapsedMilliseconds":395.4207,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:0000000D","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8179066+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":127,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8281080+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8310800+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8323097+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8411879+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"elapsed":"3","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8546913+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"elapsed":"11","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8596150+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"elapsed":"2","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8622931+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"elapsed":"0","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8703040+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"elapsed":"4","parameters":"@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p4='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nUPDATE [CartItems] SET [Quantity] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;\r\nUPDATE [Carts] SET [CustomerId] = @p2, [IsDeleted] = @p3\r\nOUTPUT 1\r\nWHERE [Id] = @p4;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8811575+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3b21a5b9-781c-4176-a28a-55503cd87b49","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8912568+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":57.3434,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8926457+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:30:56.8936764+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":201,"Elapsed":64.7193,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"64.7193"}]}}
{"Timestamp":"2024-10-02T11:30:56.8961390+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"540d8ea85eab1ab9d70d1a045f769bfa","SpanId":"246e72813c1de9fb","Properties":{"ElapsedMilliseconds":78.2452,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JBMES1E3:0000000F","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JBMES1E3"}}
{"Timestamp":"2024-10-02T11:40:11.7127071+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"16","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:40:11.7508176+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:40:11.7641593+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T11:40:11.8021912+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T11:40:11.9772166+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:40:11.9781219+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:40:11.9797452+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:40:11.9807687+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:40:11.9812727+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T11:40:12.0390870+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"25c4efa30fa8373fcd305035168116e9","SpanId":"cbe6b981ba47a3c0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:12.2012382+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"25c4efa30fa8373fcd305035168116e9","SpanId":"cbe6b981ba47a3c0","Properties":{"ElapsedMilliseconds":162.797,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:12.2122438+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f6065f4925813e01c8af911bd2df88e","SpanId":"0722566e791b9196","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:12.2122438+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"157e6216de316ddbfcdd08014bbe505a","SpanId":"a91dec8734f89643","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:12.2175053+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f6065f4925813e01c8af911bd2df88e","SpanId":"0722566e791b9196","Properties":{"ElapsedMilliseconds":5.2305,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:12.2324100+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"157e6216de316ddbfcdd08014bbe505a","SpanId":"a91dec8734f89643","Properties":{"ElapsedMilliseconds":20.1647,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:12.8186941+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b86e9d5c2a6b4d91b41379bf866b80bd","SpanId":"7170aa282c03f390","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:12.8984282+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b86e9d5c2a6b4d91b41379bf866b80bd","SpanId":"7170aa282c03f390","Properties":{"ElapsedMilliseconds":79.7608,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:23.2675966+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72b26dbdfdac8b1066ae7ccabe448552","SpanId":"5d7f6baf0b96a894","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:23.3424207+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72b26dbdfdac8b1066ae7ccabe448552","SpanId":"5d7f6baf0b96a894","Properties":{"ElapsedMilliseconds":74.8032,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:30.4363421+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"863b9268980d7739fd3b23dd8f56cab2","SpanId":"17d8fdf0c498b02a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:30.5400610+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"863b9268980d7739fd3b23dd8f56cab2","SpanId":"17d8fdf0c498b02a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 4:32:47 AM', Current time (UTC): '10/2/2024 4:40:30 AM'.\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72JH6LB0TN:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:30.5683596+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"863b9268980d7739fd3b23dd8f56cab2","SpanId":"17d8fdf0c498b02a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 4:32:47 AM', Current time (UTC): '10/2/2024 4:40:30 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72JH6LB0TN:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:30.5833011+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"863b9268980d7739fd3b23dd8f56cab2","SpanId":"17d8fdf0c498b02a","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72JH6LB0TN:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:30.5953405+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"863b9268980d7739fd3b23dd8f56cab2","SpanId":"17d8fdf0c498b02a","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72JH6LB0TN:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:30.6000369+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"863b9268980d7739fd3b23dd8f56cab2","SpanId":"17d8fdf0c498b02a","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":401,"Elapsed":144.7534,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"144.7534"}]}}
{"Timestamp":"2024-10-02T11:40:30.6063208+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"863b9268980d7739fd3b23dd8f56cab2","SpanId":"17d8fdf0c498b02a","Properties":{"ElapsedMilliseconds":169.962,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:51.5097472+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:51.5205200+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:51.5258617+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 4:32:47 AM', Current time (UTC): '10/2/2024 4:40:51 AM'.\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:51.5303215+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 4:32:47 AM', Current time (UTC): '10/2/2024 4:40:51 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:51.5346970+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:51.5568317+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1c313b6e-73fb-4489-aed2-b9ed2345c586","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:51.6917558+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"elapsed":"14","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1c313b6e-73fb-4489-aed2-b9ed2345c586","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:51.9450103+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"elapsed":"10","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1c313b6e-73fb-4489-aed2-b9ed2345c586","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:51.9601439+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"1c313b6e-73fb-4489-aed2-b9ed2345c586","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:52.0712308+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1c313b6e-73fb-4489-aed2-b9ed2345c586","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:52.0832277+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1c313b6e-73fb-4489-aed2-b9ed2345c586","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:52.0952433+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":529.2017,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:52.0970157+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:40:52.0991521+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":575.7559,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"575.7559"}]}}
{"Timestamp":"2024-10-02T11:40:52.1033621+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b9740330267c2a3390e3eb5bba71e5f7","SpanId":"dfe82c96d5117347","Properties":{"ElapsedMilliseconds":593.5934,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:08.6699723+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:08.6891693+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:08.7021744+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9f420bf0-e226-41ab-ad9f-e75c7305b7b6","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:08.8682682+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"elapsed":"6","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f420bf0-e226-41ab-ad9f-e75c7305b7b6","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:09.0294574+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"elapsed":"6","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f420bf0-e226-41ab-ad9f-e75c7305b7b6","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:09.0959922+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"elapsed":"3","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f420bf0-e226-41ab-ad9f-e75c7305b7b6","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:09.1443097+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f420bf0-e226-41ab-ad9f-e75c7305b7b6","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:09.1619977+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9f420bf0-e226-41ab-ad9f-e75c7305b7b6","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:09.1805529+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":475.1217,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:09.1887402+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:41:09.1939664+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":517.9029,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"517.9029"}]}}
{"Timestamp":"2024-10-02T11:41:09.1977028+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ad916026db945ad88b8ab65bebccfc6f","SpanId":"83a359f0898fa5c8","Properties":{"ElapsedMilliseconds":527.7218,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:08.8011937+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":76,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:08.8082492+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:08.8111244+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:08.8163272+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e267f5d-0cbf-47b3-a8c4-9a0b59b53cbd","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:08.8316313+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"elapsed":"3","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e267f5d-0cbf-47b3-a8c4-9a0b59b53cbd","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:08.8417214+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"elapsed":"5","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e267f5d-0cbf-47b3-a8c4-9a0b59b53cbd","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:08.8464725+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e267f5d-0cbf-47b3-a8c4-9a0b59b53cbd","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:08.8493091+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"elapsed":"0","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e267f5d-0cbf-47b3-a8c4-9a0b59b53cbd","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:08.8521924+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"elapsed":"0","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e267f5d-0cbf-47b3-a8c4-9a0b59b53cbd","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:09.0215455+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p7='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [CartItems] ([Id], [CartId], [IsDeleted], [ProductId], [Quantity])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);\r\nUPDATE [Carts] SET [CustomerId] = @p5, [IsDeleted] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e267f5d-0cbf-47b3-a8c4-9a0b59b53cbd","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:09.0384149+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e267f5d-0cbf-47b3-a8c4-9a0b59b53cbd","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:09.0506685+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":231.2366,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:09.0517921+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T11:42:09.0525810+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":201,"Elapsed":242.6651,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"242.6651"}]}}
{"Timestamp":"2024-10-02T11:42:09.0544189+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44de1a24949ba7256409a7eeb2549f57","SpanId":"a340b185e20354f3","Properties":{"ElapsedMilliseconds":253.2511,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72JH6LB0TN:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72JH6LB0TN"}}
{"Timestamp":"2024-10-02T13:54:38.3750286+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"52","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T13:54:38.4204275+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T13:54:38.5384658+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T13:54:38.6075001+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T13:54:39.6888911+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T13:54:39.6916040+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T13:54:39.6936905+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T13:54:39.6954540+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T13:54:39.6969231+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T13:54:40.2803118+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b1655bdb8c61faa6dcac611d95a8462e","SpanId":"7cbe8006fa770a62","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LSB41T9K:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72LSB41T9K"}}
{"Timestamp":"2024-10-02T13:54:40.4698396+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b1655bdb8c61faa6dcac611d95a8462e","SpanId":"7cbe8006fa770a62","Properties":{"ElapsedMilliseconds":190.4506,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LSB41T9K:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72LSB41T9K"}}
{"Timestamp":"2024-10-02T13:54:40.4797864+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5546cc7190771c0a1c2ea7c90e24f844","SpanId":"d189812b46fc6097","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LSB41T9K:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72LSB41T9K"}}
{"Timestamp":"2024-10-02T13:54:40.4884379+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5546cc7190771c0a1c2ea7c90e24f844","SpanId":"d189812b46fc6097","Properties":{"ElapsedMilliseconds":8.6236,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LSB41T9K:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72LSB41T9K"}}
{"Timestamp":"2024-10-02T13:54:40.6011770+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c49effa8fbd7299de35b8ef55ea5faac","SpanId":"2afc06f976caeb86","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LSB41T9K:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72LSB41T9K"}}
{"Timestamp":"2024-10-02T13:54:40.6240827+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c49effa8fbd7299de35b8ef55ea5faac","SpanId":"2afc06f976caeb86","Properties":{"ElapsedMilliseconds":22.907,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LSB41T9K:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72LSB41T9K"}}
{"Timestamp":"2024-10-02T13:54:40.7697254+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66a8b8168cc925cab45bddcaf6ee24f3","SpanId":"bcd32445bf1979da","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LSB41T9K:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72LSB41T9K"}}
{"Timestamp":"2024-10-02T13:54:40.8358361+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66a8b8168cc925cab45bddcaf6ee24f3","SpanId":"bcd32445bf1979da","Properties":{"ElapsedMilliseconds":66.0758,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LSB41T9K:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72LSB41T9K"}}
{"Timestamp":"2024-10-02T14:00:38.9918053+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"26","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:00:39.0420603+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:00:39.0594441+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T14:00:39.0988496+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:00:39.4328224+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:00:39.4338632+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:00:39.4356789+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:00:39.4366424+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:00:39.4372038+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:00:39.6590734+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd4dadea4d34abd428d3e1b73298b998","SpanId":"22f44d847d39210e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:00:39.8760441+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd4dadea4d34abd428d3e1b73298b998","SpanId":"22f44d847d39210e","Properties":{"ElapsedMilliseconds":217.7309,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:00:39.9012710+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"857da6d21f0dbd8fe0edaf3c61439322","SpanId":"22484392f7bd604f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:00:39.9012711+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"40be21d57bf1fed3d5dd451d555d39c4","SpanId":"c9bfefc67b49a533","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:00:39.9104677+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"40be21d57bf1fed3d5dd451d555d39c4","SpanId":"c9bfefc67b49a533","Properties":{"ElapsedMilliseconds":9.2098,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:00:39.9193466+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"857da6d21f0dbd8fe0edaf3c61439322","SpanId":"22484392f7bd604f","Properties":{"ElapsedMilliseconds":18.1172,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:00:40.0951915+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6b87931694ab262485c4c73b3bdf62a4","SpanId":"7e8aa4544969f1ee","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:00:40.1642923+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6b87931694ab262485c4c73b3bdf62a4","SpanId":"7e8aa4544969f1ee","Properties":{"ElapsedMilliseconds":69.0906,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:00:47.2341591+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a9bd6931111ef3d7cc2680e0ccfb556e","SpanId":"0b96cc3cf89b7814","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:00:47.3224483+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a9bd6931111ef3d7cc2680e0ccfb556e","SpanId":"0b96cc3cf89b7814","Properties":{"ElapsedMilliseconds":88.2913,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI4:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72LVM99JI4"}}
{"Timestamp":"2024-10-02T14:01:24.6766755+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:24.7065843+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:24.7997378+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:24.8333552+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1fed0a7b-641f-4939-bea1-253fd23da110","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:25.1304262+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"elapsed":"92","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1fed0a7b-641f-4939-bea1-253fd23da110","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:25.4442742+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"elapsed":"31","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1fed0a7b-641f-4939-bea1-253fd23da110","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:25.4622262+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"1fed0a7b-641f-4939-bea1-253fd23da110","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:25.7180871+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"elapsed":"36","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1fed0a7b-641f-4939-bea1-253fd23da110","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:25.7353078+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1fed0a7b-641f-4939-bea1-253fd23da110","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:25.7551311+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":904.5612,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:25.7602015+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:25.7748548+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":1057.8172,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1057.8172"}]}}
{"Timestamp":"2024-10-02T14:01:25.7922974+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ee79476dbf10777279fde3c547487a09","SpanId":"2b42ee4ebb135140","Properties":{"ElapsedMilliseconds":1115.578,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI5:00000001","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72LVM99JI5"}}
{"Timestamp":"2024-10-02T14:01:45.8527535+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:45.9138578+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:45.9205123+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a9a15bfb-b522-4fe4-ae36-cd521bcf8482","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:46.1416298+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"elapsed":"52","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9a15bfb-b522-4fe4-ae36-cd521bcf8482","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:46.2104629+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"elapsed":"6","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9a15bfb-b522-4fe4-ae36-cd521bcf8482","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:46.3654987+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"elapsed":"96","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9a15bfb-b522-4fe4-ae36-cd521bcf8482","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:46.4192434+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"elapsed":"2","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9a15bfb-b522-4fe4-ae36-cd521bcf8482","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:46.4281158+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9a15bfb-b522-4fe4-ae36-cd521bcf8482","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:46.4484639+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a9a15bfb-b522-4fe4-ae36-cd521bcf8482","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:46.4687241+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":545.2057,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:46.4718039+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:46.4738751+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":611.4859,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"611.4859"}]}}
{"Timestamp":"2024-10-02T14:01:46.4780178+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eedbbe145d96d1c510e3a54743b13ce2","SpanId":"136aa08160961e89","Properties":{"ElapsedMilliseconds":625.2341,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI6:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72LVM99JI6"}}
{"Timestamp":"2024-10-02T14:01:56.0194718+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI7:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72LVM99JI7"}}
{"Timestamp":"2024-10-02T14:01:56.0368941+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72LVM99JI7:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72LVM99JI7"}}
{"Timestamp":"2024-10-02T14:01:56.0446819+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"RouteData":"{action = \"GetProducts\", controller = \"Products\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.ViewModels.Product.ProductDTO]]] GetProducts()","Controller":"JWTDemo.Controllers.v5.ProductsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a118be4b-f07b-433a-9343-ec595a8349f2","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72LVM99JI7:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72LVM99JI7"}}
{"Timestamp":"2024-10-02T14:01:56.1162989+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"elapsed":"37","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl], [c].[Id], [c].[IsDeleted], [c].[Name]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a118be4b-f07b-433a-9343-ec595a8349f2","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72LVM99JI7:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72LVM99JI7"}}
{"Timestamp":"2024-10-02T14:01:56.1438985+07:00","Level":"Information","MessageTemplate":"Result: {@productDTOs}","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"productDTOs":[{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-s","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-1","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":0,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"790234193-2","Name":"test1","Description":"tes1111","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"1111","_typeTag":"ProductDTO"},{"CategoryName":"517013541-6","Name":"Apples - Sliced / Wedge","Description":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.\n\nVestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.","imageUrl":null,"Price":66000,"Quantity":0,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"507837385-3","Name":"Shayla","Description":"In hac habitasse platea dictumst. Etiam faucibus cursus urna. Ut tellus.\n\nNulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\n\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.","imageUrl":null,"Price":100000,"Quantity":0,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"Elwood","Description":"Phasellus sit amet erat. Nulla tempus. Vivamus in felis eu sapien cursus vestibulum.","imageUrl":null,"Price":1000000,"Quantity":0,"Code":"27293-016","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"Sally","Description":"Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.\n\nMorbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.\n\nFusce consequat. Nulla nisl. Nunc nisl.","imageUrl":null,"Price":38000,"Quantity":0,"Code":"49884-574","_typeTag":"ProductDTO"}]}}
{"Timestamp":"2024-10-02T14:01:56.2048840+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Domain.ViewModels.Product.ProductDTO, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a118be4b-f07b-433a-9343-ec595a8349f2","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72LVM99JI7:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72LVM99JI7"}}
{"Timestamp":"2024-10-02T14:01:56.2119308+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","ElapsedMilliseconds":163.6846,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72LVM99JI7:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72LVM99JI7"}}
{"Timestamp":"2024-10-02T14:01:56.2137491+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72LVM99JI7:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72LVM99JI7"}}
{"Timestamp":"2024-10-02T14:01:56.2145882+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Products","StatusCode":200,"Elapsed":183.6776,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"183.6776"}]}}
{"Timestamp":"2024-10-02T14:01:56.2156116+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b7846dd842b96f62168fb09ca1e08f4a","SpanId":"bef4d078c9f589ee","Properties":{"ElapsedMilliseconds":201.8347,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72LVM99JI7:00000001","RequestPath":"/api/v5/Products","ConnectionId":"0HN72LVM99JI7"}}
{"Timestamp":"2024-10-02T14:16:44.5802877+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"30","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:16:44.6216243+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:16:44.6400810+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T14:16:44.6791290+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:16:44.9018602+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:16:44.9030918+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:16:44.9043567+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:16:44.9052170+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:16:44.9058931+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:16:45.1388245+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2fec2d075fa971b06b57486fc87bfccc","SpanId":"9983f510c9454ad3","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:16:45.3496991+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2fec2d075fa971b06b57486fc87bfccc","SpanId":"9983f510c9454ad3","Properties":{"ElapsedMilliseconds":211.5245,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:16:45.3660706+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"201c4411bd0531317d293250b3f6516a","SpanId":"a33bd9bb01327a95","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:16:45.3660707+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"30095d4e8458e315e5227f3ef831a80b","SpanId":"7b4d67c181875bd6","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:16:45.3757018+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"30095d4e8458e315e5227f3ef831a80b","SpanId":"7b4d67c181875bd6","Properties":{"ElapsedMilliseconds":9.6076,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:16:45.3889043+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"201c4411bd0531317d293250b3f6516a","SpanId":"a33bd9bb01327a95","Properties":{"ElapsedMilliseconds":22.837,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:16:46.0242281+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f31feb6344c2b117d2f5e1cf454c753f","SpanId":"ba03551a45efa442","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:16:46.0898724+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f31feb6344c2b117d2f5e1cf454c753f","SpanId":"ba03551a45efa442","Properties":{"ElapsedMilliseconds":65.6537,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:01.2962554+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"abe7f8fea9639f6b0e3f24af49072e7a","SpanId":"c172deb2ac43c43a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:01.3844895+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"abe7f8fea9639f6b0e3f24af49072e7a","SpanId":"c172deb2ac43c43a","Properties":{"ElapsedMilliseconds":88.2414,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:20.5255267+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:20.5491896+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:20.5913583+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:20.6124416+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5bbb42fc-c14f-4878-9bf5-c7cfda4116e5","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:20.7624860+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"elapsed":"27","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5bbb42fc-c14f-4878-9bf5-c7cfda4116e5","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:20.9964471+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"elapsed":"3","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5bbb42fc-c14f-4878-9bf5-c7cfda4116e5","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:21.0060329+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"5bbb42fc-c14f-4878-9bf5-c7cfda4116e5","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:21.1493146+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"elapsed":"27","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5bbb42fc-c14f-4878-9bf5-c7cfda4116e5","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:21.1644407+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5bbb42fc-c14f-4878-9bf5-c7cfda4116e5","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:21.1766655+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":557.7875,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:21.1798425+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:21.1843582+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":630.8366,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"630.8366"}]}}
{"Timestamp":"2024-10-02T14:17:21.1921837+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1ae9051c253434ff99db2bcdfda011e4","SpanId":"5443a28f119286c9","Properties":{"ElapsedMilliseconds":666.253,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.1518781+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.2142123+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.2237998+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7bdb40e6-d060-412e-bc1d-bec5836eb536","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.3865271+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"elapsed":"7","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7bdb40e6-d060-412e-bc1d-bec5836eb536","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.4919408+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"elapsed":"11","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7bdb40e6-d060-412e-bc1d-bec5836eb536","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.5647413+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"elapsed":"3","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7bdb40e6-d060-412e-bc1d-bec5836eb536","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.6126389+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"elapsed":"2","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7bdb40e6-d060-412e-bc1d-bec5836eb536","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.6163101+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7bdb40e6-d060-412e-bc1d-bec5836eb536","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.6325414+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7bdb40e6-d060-412e-bc1d-bec5836eb536","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.6593792+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":430.7082,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.6625580+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:17:47.6637991+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":502.9102,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"502.9102"}]}}
{"Timestamp":"2024-10-02T14:17:47.6655048+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6a9ab4aeb89e0c43a8c2af72e241d4ab","SpanId":"312bd5c8913da47c","Properties":{"ElapsedMilliseconds":513.6104,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:03.2669183+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:03.2807013+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:03.2914394+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"RouteData":"{action = \"GetProducts\", controller = \"Products\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.ViewModels.Product.ProductDTO]]] GetProducts()","Controller":"JWTDemo.Controllers.v5.ProductsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4f10373d-85a4-407b-bb4f-faf0b0b8b423","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:03.3699861+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"elapsed":"12","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl], [c].[Id], [c].[IsDeleted], [c].[Name]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4f10373d-85a4-407b-bb4f-faf0b0b8b423","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:03.4183354+07:00","Level":"Information","MessageTemplate":"Result: {@productDTOs}","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"productDTOs":[{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-s","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-1","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"790234193-2","Name":"test1","Description":"tes1111","imageUrl":null,"Price":1111110,"Quantity":0,"Code":"1111","_typeTag":"ProductDTO"},{"CategoryName":"517013541-6","Name":"Apples - Sliced / Wedge","Description":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.\n\nVestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.","imageUrl":null,"Price":66000,"Quantity":1000,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"507837385-3","Name":"Shayla","Description":"In hac habitasse platea dictumst. Etiam faucibus cursus urna. Ut tellus.\n\nNulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\n\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"Elwood","Description":"Phasellus sit amet erat. Nulla tempus. Vivamus in felis eu sapien cursus vestibulum.","imageUrl":null,"Price":1000000,"Quantity":1000,"Code":"27293-016","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"Sally","Description":"Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.\n\nMorbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.\n\nFusce consequat. Nulla nisl. Nunc nisl.","imageUrl":null,"Price":38000,"Quantity":1000,"Code":"49884-574","_typeTag":"ProductDTO"}]}}
{"Timestamp":"2024-10-02T14:18:03.4805364+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Domain.ViewModels.Product.ProductDTO, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4f10373d-85a4-407b-bb4f-faf0b0b8b423","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72M8M0DH1C:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:03.4838233+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","ElapsedMilliseconds":186.6002,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72M8M0DH1C:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:03.4866553+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:03.4875325+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Products","StatusCode":200,"Elapsed":212.9237,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"212.9237"}]}}
{"Timestamp":"2024-10-02T14:18:03.4886477+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"42f34a38b517e6cd8bbd9f51a65bc640","SpanId":"1f37fc0a6c1c51d0","Properties":{"ElapsedMilliseconds":221.7398,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.8869840+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":77,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.8938048+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.8999023+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.9060142+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.9274140+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"elapsed":"1","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.9375378+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"elapsed":"1","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.9489667+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.9586126+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.9690729+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.9764426+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.9886188+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:32.9949608+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":83.0944,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:33.0001082+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:33.0016112+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":400,"Elapsed":104.4998,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"104.4998"}]}}
{"Timestamp":"2024-10-02T14:18:33.0038725+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e348683c5bdb9684806935fca9d5b172","SpanId":"925afc87b5e0b385","Properties":{"ElapsedMilliseconds":116.8742,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000011","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1114634+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":77,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1172383+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1189264+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1212181+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"RouteData":"{action = \"AddToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] AddToCart(Domain.ViewModels.Cart.CartItemRequestDTO)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1309922+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"elapsed":"2","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1472128+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"elapsed":"1","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1581411+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1705464+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"elapsed":"2","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1820989+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.1963355+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.4207801+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.4364254+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p7='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean), @p16='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Double), @p14='?' (DbType = Int32), @p15='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [CartItems] ([Id], [CartId], [IsDeleted], [ProductId], [Quantity])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);\r\nUPDATE [Carts] SET [CustomerId] = @p5, [IsDeleted] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;\r\nUPDATE [Products] SET [CategoryId] = @p8, [Code] = @p9, [Description] = @p10, [IsDeleted] = @p11, [Name] = @p12, [Price] = @p13, [Quantity] = @p14, [imageUrl] = @p15\r\nOUTPUT 1\r\nWHERE [Id] = @p16;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.4519150+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7f0c6881-3340-4082-ba39-70f490289d97","ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.4820389+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","ElapsedMilliseconds":358.4682,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.4867544+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.AddToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:40.4900762+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/AddToCart","StatusCode":201,"Elapsed":371.9055,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"371.9055"}]}}
{"Timestamp":"2024-10-02T14:18:40.4940101+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e0a5f6a3a36f00274813e70d52c4600","SpanId":"2ff97a3379d4f261","Properties":{"ElapsedMilliseconds":382.486,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/AddToCart","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000013","RequestPath":"/api/v5/Carts/AddToCart","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:52.7496183+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000015","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:52.7570416+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:00000015","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:52.7602345+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"RouteData":"{action = \"GetProducts\", controller = \"Products\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.ViewModels.Product.ProductDTO]]] GetProducts()","Controller":"JWTDemo.Controllers.v5.ProductsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4f10373d-85a4-407b-bb4f-faf0b0b8b423","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000015","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:52.7722261+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl], [c].[Id], [c].[IsDeleted], [c].[Name]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4f10373d-85a4-407b-bb4f-faf0b0b8b423","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000015","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:52.7819765+07:00","Level":"Information","MessageTemplate":"Result: {@productDTOs}","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"productDTOs":[{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-s","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"936824466-1","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"test","_typeTag":"ProductDTO"},{"CategoryName":"790234193-2","Name":"test1","Description":"tes1111","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"1111","_typeTag":"ProductDTO"},{"CategoryName":"517013541-6","Name":"Apples - Sliced / Wedge","Description":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.\n\nVestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.","imageUrl":null,"Price":66000,"Quantity":1000,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"507837385-3","Name":"Shayla","Description":"In hac habitasse platea dictumst. Etiam faucibus cursus urna. Ut tellus.\n\nNulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\n\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"55154-6998","_typeTag":"ProductDTO"},{"CategoryName":"936824466-9","Name":"Elwood","Description":"Phasellus sit amet erat. Nulla tempus. Vivamus in felis eu sapien cursus vestibulum.","imageUrl":null,"Price":1000000,"Quantity":1000,"Code":"27293-016","_typeTag":"ProductDTO"},{"CategoryName":"818256655-X","Name":"Sally","Description":"Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.\n\nMorbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.\n\nFusce consequat. Nulla nisl. Nunc nisl.","imageUrl":null,"Price":38000,"Quantity":0,"Code":"49884-574","_typeTag":"ProductDTO"}]}}
{"Timestamp":"2024-10-02T14:18:52.8505454+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Domain.ViewModels.Product.ProductDTO, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4f10373d-85a4-407b-bb4f-faf0b0b8b423","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72M8M0DH1C:00000015","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:52.8520082+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","ElapsedMilliseconds":87.9326,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72M8M0DH1C:00000015","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:52.8544663+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72M8M0DH1C:00000015","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:18:52.8555263+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Products","StatusCode":200,"Elapsed":99.0123,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"99.0123"}]}}
{"Timestamp":"2024-10-02T14:18:52.8571878+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7f2b42acf9cc97ca1c465956771d9934","SpanId":"57354d0d45ed5a3d","Properties":{"ElapsedMilliseconds":107.5652,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72M8M0DH1C:00000015","RequestPath":"/api/v5/Products","ConnectionId":"0HN72M8M0DH1C"}}
{"Timestamp":"2024-10-02T14:35:31.6452962+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"15","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:35:31.6881850+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:35:31.7049660+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T14:35:31.7389406+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:35:31.9815523+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:35:31.9830135+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:35:31.9848522+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:35:31.9855893+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:35:31.9862336+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:35:32.3621645+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"386db74ced2128164cdba90e0eaac2fc","SpanId":"4f9215de78c017fa","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:32.5693713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"386db74ced2128164cdba90e0eaac2fc","SpanId":"4f9215de78c017fa","Properties":{"ElapsedMilliseconds":207.8552,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:32.6037719+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5652e7adc7411084245a7b38c28c28ee","SpanId":"824c8a95be198235","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:32.6037719+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4669982de1f21624e534fc1830973480","SpanId":"9b7872e8d21b5b78","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:32.6109787+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5652e7adc7411084245a7b38c28c28ee","SpanId":"824c8a95be198235","Properties":{"ElapsedMilliseconds":7.0262,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:32.6304228+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4669982de1f21624e534fc1830973480","SpanId":"9b7872e8d21b5b78","Properties":{"ElapsedMilliseconds":26.6492,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:33.3382065+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c23bc0b476008f49e9c0038f181f25f2","SpanId":"a7fc186429e228f3","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:33.4137641+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c23bc0b476008f49e9c0038f181f25f2","SpanId":"a7fc186429e228f3","Properties":{"ElapsedMilliseconds":75.6004,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:53.0928173+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c20b4a1829b831dcac1c20633d8a8100","SpanId":"39ab7f6d7110b062","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:53.1660108+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c20b4a1829b831dcac1c20633d8a8100","SpanId":"39ab7f6d7110b062","Properties":{"ElapsedMilliseconds":73.1495,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:56.6750054+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bf9fa882a65c4ee5fdc0a01787940b89","SpanId":"b732f542af98ef34","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:56.7422603+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"bf9fa882a65c4ee5fdc0a01787940b89","SpanId":"b732f542af98ef34","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72MJ5U9873:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:56.7491762+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"bf9fa882a65c4ee5fdc0a01787940b89","SpanId":"b732f542af98ef34","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72MJ5U9873:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:35:56.7528236+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bf9fa882a65c4ee5fdc0a01787940b89","SpanId":"b732f542af98ef34","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":401,"Elapsed":56.333,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"56.3330"}]}}
{"Timestamp":"2024-10-02T14:35:56.7608509+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bf9fa882a65c4ee5fdc0a01787940b89","SpanId":"b732f542af98ef34","Properties":{"ElapsedMilliseconds":85.7794,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.0277508+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.1065804+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.1243362+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"78081d06-8545-401a-b634-55a7fe8d42b2","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.3778451+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"elapsed":"17","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"78081d06-8545-401a-b634-55a7fe8d42b2","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.5586307+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"elapsed":"6","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"78081d06-8545-401a-b634-55a7fe8d42b2","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.6393010+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"elapsed":"8","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"78081d06-8545-401a-b634-55a7fe8d42b2","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.6809385+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"elapsed":"4","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"78081d06-8545-401a-b634-55a7fe8d42b2","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.6875184+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"78081d06-8545-401a-b634-55a7fe8d42b2","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.6920204+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"78081d06-8545-401a-b634-55a7fe8d42b2","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.7205808+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"78081d06-8545-401a-b634-55a7fe8d42b2","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.7495385+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":614.5025,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.7509625+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:04.7524652+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":715.6897,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"715.6897"}]}}
{"Timestamp":"2024-10-02T14:36:04.7566500+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ceff9e9d159e8bb9f767dc60b824f785","SpanId":"6bf78258eb84f750","Properties":{"ElapsedMilliseconds":728.9193,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:0000000D","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:09.8317328+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:09.8405546+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MJ5U9873:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:09.8485316+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"RouteData":"{action = \"GetProducts\", controller = \"Products\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.ViewModels.Product.ProductDTO]]] GetProducts()","Controller":"JWTDemo.Controllers.v5.ProductsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6d047108-168b-4570-a2ef-211589ba3d9e","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:09.8748116+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl], [c].[Id], [c].[IsDeleted], [c].[Name]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6d047108-168b-4570-a2ef-211589ba3d9e","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:09.8931305+07:00","Level":"Information","MessageTemplate":"Result: {@productDTOs}","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"productDTOs":[{"Id":"810b8c71-f252-4850-a7c1-08dcdc6c7dc4","CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"Id":"b4f6b3f4-2731-47d4-a7c2-08dcdc6c7dc4","CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"Id":"704894a4-da0e-406f-a7c3-08dcdc6c7dc4","CategoryName":"936824466-s","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"Id":"5ae1a733-867c-4e2e-a7c4-08dcdc6c7dc4","CategoryName":"936824466-1","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"Id":"9f06c1b8-5bd1-4340-0bb5-08dcdc6da671","CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"test","_typeTag":"ProductDTO"},{"Id":"6bad17ee-b1a3-4c2a-7e76-08dcdc6e9375","CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"test","_typeTag":"ProductDTO"},{"Id":"20c984b2-a638-4212-0d6f-08dcdc724fce","CategoryName":"790234193-2","Name":"test1","Description":"tes1111","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"1111","_typeTag":"ProductDTO"},{"Id":"ee4aa1b7-5b39-4f8f-1d9e-08dcdc7537c7","CategoryName":"517013541-6","Name":"Apples - Sliced / Wedge","Description":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.\n\nVestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.","imageUrl":null,"Price":66000,"Quantity":1000,"Code":"55154-6998","_typeTag":"ProductDTO"},{"Id":"fef72128-2253-4e17-a114-08dcdd3d38a3","CategoryName":"507837385-3","Name":"Shayla","Description":"In hac habitasse platea dictumst. Etiam faucibus cursus urna. Ut tellus.\n\nNulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\n\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"55154-6998","_typeTag":"ProductDTO"},{"Id":"50d13f0b-8f50-45e6-a115-08dcdd3d38a3","CategoryName":"936824466-9","Name":"Elwood","Description":"Phasellus sit amet erat. Nulla tempus. Vivamus in felis eu sapien cursus vestibulum.","imageUrl":null,"Price":1000000,"Quantity":1000,"Code":"27293-016","_typeTag":"ProductDTO"},{"Id":"7076438f-05d4-47ac-79c4-08dcdd3fbcc2","CategoryName":"818256655-X","Name":"Sally","Description":"Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.\n\nMorbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.\n\nFusce consequat. Nulla nisl. Nunc nisl.","imageUrl":null,"Price":38000,"Quantity":0,"Code":"49884-574","_typeTag":"ProductDTO"}]}}
{"Timestamp":"2024-10-02T14:36:09.9873561+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Domain.ViewModels.Product.ProductDTO, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6d047108-168b-4570-a2ef-211589ba3d9e","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72MJ5U9873:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:09.9955171+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","ElapsedMilliseconds":141.2545,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72MJ5U9873:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:09.9985068+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MJ5U9873:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:36:09.9992121+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Products","StatusCode":200,"Elapsed":161.4949,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"161.4949"}]}}
{"Timestamp":"2024-10-02T14:36:10.0013409+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"624f74f70042a9de44ba943bc8add288","SpanId":"c25c19f1d0c39908","Properties":{"ElapsedMilliseconds":169.6236,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MJ5U9873:0000000F","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MJ5U9873"}}
{"Timestamp":"2024-10-02T14:43:14.4084312+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"15","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:43:14.4446476+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:43:14.4581246+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T14:43:14.4899822+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:43:14.7294461+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:43:14.7303332+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:43:14.7321372+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:43:14.7331064+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:43:14.7337110+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:43:15.1537827+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dc0acba3ac471fbd033828784d002f55","SpanId":"187288a35dd1ed53","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:15.3511529+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dc0acba3ac471fbd033828784d002f55","SpanId":"187288a35dd1ed53","Properties":{"ElapsedMilliseconds":198.1792,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:15.3581732+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2234e40318a9f7bfd5b1cb9b3e4de234","SpanId":"65a090fb3a4670f5","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:15.3581731+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b38a0aa598bde419e74906ba8991102d","SpanId":"3a0b41983c5f8d44","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:15.3654847+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b38a0aa598bde419e74906ba8991102d","SpanId":"3a0b41983c5f8d44","Properties":{"ElapsedMilliseconds":7.2838,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:15.3758879+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2234e40318a9f7bfd5b1cb9b3e4de234","SpanId":"65a090fb3a4670f5","Properties":{"ElapsedMilliseconds":17.7075,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:15.8967287+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bb3b5ff20bd245294c74a5d53ab2d071","SpanId":"20c2e9ae289e67db","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:15.9788675+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bb3b5ff20bd245294c74a5d53ab2d071","SpanId":"20c2e9ae289e67db","Properties":{"ElapsedMilliseconds":82.1643,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:18.4484690+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"736e53717912d4d1f9f7a42a1e8b651c","SpanId":"515ae286bbd15be2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:18.4745220+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"736e53717912d4d1f9f7a42a1e8b651c","SpanId":"515ae286bbd15be2","Properties":{"ElapsedMilliseconds":26.0578,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:25.5367194+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:25.6373161+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:25.6449501+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:25.8971525+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"elapsed":"17","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:26.0833349+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"elapsed":"3","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:26.1730122+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"elapsed":"4","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:26.2670452+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"elapsed":"14","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:26.2739076+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:26.3121812+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:26.3430585+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":692.0732,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:26.3464377+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:26.3505099+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":782.1245,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"782.1245"}]}}
{"Timestamp":"2024-10-02T14:43:26.3589425+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6353edd6a813f4b700dfa40a67daedbe","SpanId":"073c91c37918111f","Properties":{"ElapsedMilliseconds":822.2235,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:46.8181771+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/RemoveToCart","QueryString":"?cartItemId=c559e574-2ab6-441d-3a41-08dce29a9111","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:46.8364433+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:46.8454058+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:46.8707601+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"RouteData":"{action = \"RemoveToCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] RemoveToCart(System.Guid)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c88f6c70-c364-441d-9c9b-565123140203","ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:46.9122252+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"elapsed":"2","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c88f6c70-c364-441d-9c9b-565123140203","ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:46.9210477+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"elapsed":"1","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c88f6c70-c364-441d-9c9b-565123140203","ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:46.9269561+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c88f6c70-c364-441d-9c9b-565123140203","ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:46.9315252+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c88f6c70-c364-441d-9c9b-565123140203","ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:46.9418846+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"elapsed":"2","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c88f6c70-c364-441d-9c9b-565123140203","ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:47.1719642+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"c88f6c70-c364-441d-9c9b-565123140203","ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:47.1941613+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Guid), @p9='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [CartItems]\r\nOUTPUT 1\r\nWHERE [Id] = @p0;\r\nUPDATE [Products] SET [CategoryId] = @p1, [Code] = @p2, [Description] = @p3, [IsDeleted] = @p4, [Name] = @p5, [Price] = @p6, [Quantity] = @p7, [imageUrl] = @p8\r\nOUTPUT 1\r\nWHERE [Id] = @p9;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c88f6c70-c364-441d-9c9b-565123140203","ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:47.2309434+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"ObjectResultType":"CreatedAtActionResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c88f6c70-c364-441d-9c9b-565123140203","ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:47.2620645+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","ElapsedMilliseconds":384.6687,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:47.2659298+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.RemoveToCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:47.2678428+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/RemoveToCart","StatusCode":201,"Elapsed":426.8516,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"426.8516"}]}}
{"Timestamp":"2024-10-02T14:43:47.2708760+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"711c337376018b222ef4385ef6129c6b","SpanId":"a07c2b3a17e9ef46","Properties":{"ElapsedMilliseconds":452.6878,"StatusCode":201,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/RemoveToCart","QueryString":"?cartItemId=c559e574-2ab6-441d-3a41-08dce29a9111","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:0000000D","RequestPath":"/api/v5/Carts/RemoveToCart","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.6405824+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.6517878+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.6543869+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.6668406+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"elapsed":"1","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.6760739+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"elapsed":"1","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.6851287+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.6942323+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.7004525+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"11b4c28e-956d-4e76-adc9-43235331458d","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.7043352+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":45.621,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.7077549+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:43:53.7101515+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":62.1236,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.1236"}]}}
{"Timestamp":"2024-10-02T14:43:53.7141309+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff60f26f48dd0fadc0d4e058d31d7678","SpanId":"5758d70b6a0574a2","Properties":{"ElapsedMilliseconds":73.5217,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:44:23.0563366+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000011","RequestPath":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:44:23.0652414+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProduct (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:00000011","RequestPath":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:44:23.0698414+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108","Properties":{"RouteData":"{action = \"GetProduct\", controller = \"Products\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Product.ProductDTO] GetProduct(System.Guid)","Controller":"JWTDemo.Controllers.v5.ProductsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8bd485b3-6fd1-45db-9bb3-582a49418ec5","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProduct (JWTDemo)","RequestId":"0HN72MNFS5PB5:00000011","RequestPath":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:44:23.1131320+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108","Properties":{"elapsed":"6","parameters":"@__id_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl], [c].[Id], [c].[IsDeleted], [c].[Name]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]\r\nWHERE [p].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8bd485b3-6fd1-45db-9bb3-582a49418ec5","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProduct (JWTDemo)","RequestId":"0HN72MNFS5PB5:00000011","RequestPath":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:44:23.1186070+07:00","Level":"Information","MessageTemplate":"Not found Product.","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108"}
{"Timestamp":"2024-10-02T14:44:23.1229295+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8bd485b3-6fd1-45db-9bb3-582a49418ec5","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProduct (JWTDemo)","RequestId":"0HN72MNFS5PB5:00000011","RequestPath":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:44:23.1250967+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108","Properties":{"ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProduct (JWTDemo)","ElapsedMilliseconds":53.0874,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72MNFS5PB5:00000011","RequestPath":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:44:23.1258300+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProduct (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:00000011","RequestPath":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:44:23.1265230+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","StatusCode":404,"Elapsed":62.8629,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.8629"}]}}
{"Timestamp":"2024-10-02T14:44:23.1293813+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"36de31f409a4eb8ca255d2006d6a6bd0","SpanId":"38ee8da9daecc108","Properties":{"ElapsedMilliseconds":73.0388,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000011","RequestPath":"/api/v5/Products/c559e574-2ab6-441d-3a41-08dce29a9111","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:45:05.3375995+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000013","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:45:05.3511005+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:00000013","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:45:05.3623949+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"RouteData":"{action = \"GetProducts\", controller = \"Products\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.ViewModels.Product.ProductDTO]]] GetProducts()","Controller":"JWTDemo.Controllers.v5.ProductsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f8ee8425-1026-42ac-a544-7edf937128b1","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72MNFS5PB5:00000013","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:45:05.4009589+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl], [c].[Id], [c].[IsDeleted], [c].[Name]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f8ee8425-1026-42ac-a544-7edf937128b1","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72MNFS5PB5:00000013","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:45:05.4384077+07:00","Level":"Information","MessageTemplate":"Result: {@productDTOs}","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"productDTOs":[{"Id":"810b8c71-f252-4850-a7c1-08dcdc6c7dc4","CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"Id":"b4f6b3f4-2731-47d4-a7c2-08dcdc6c7dc4","CategoryName":"936824466-9","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1091,"Code":"123","_typeTag":"ProductDTO"},{"Id":"704894a4-da0e-406f-a7c3-08dcdc6c7dc4","CategoryName":"936824466-s","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"Id":"5ae1a733-867c-4e2e-a7c4-08dcdc6c7dc4","CategoryName":"936824466-1","Name":"1234","Description":"1234","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"123","_typeTag":"ProductDTO"},{"Id":"9f06c1b8-5bd1-4340-0bb5-08dcdc6da671","CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"test","_typeTag":"ProductDTO"},{"Id":"6bad17ee-b1a3-4c2a-7e76-08dcdc6e9375","CategoryName":"818256655-X","Name":"test","Description":"test","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"test","_typeTag":"ProductDTO"},{"Id":"20c984b2-a638-4212-0d6f-08dcdc724fce","CategoryName":"790234193-2","Name":"test1","Description":"tes1111","imageUrl":null,"Price":1111110,"Quantity":1000,"Code":"1111","_typeTag":"ProductDTO"},{"Id":"ee4aa1b7-5b39-4f8f-1d9e-08dcdc7537c7","CategoryName":"517013541-6","Name":"Apples - Sliced / Wedge","Description":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin risus. Praesent lectus.\n\nVestibulum quam sapien, varius ut, blandit non, interdum in, ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis faucibus accumsan odio. Curabitur convallis.","imageUrl":null,"Price":66000,"Quantity":1000,"Code":"55154-6998","_typeTag":"ProductDTO"},{"Id":"fef72128-2253-4e17-a114-08dcdd3d38a3","CategoryName":"507837385-3","Name":"Shayla","Description":"In hac habitasse platea dictumst. Etiam faucibus cursus urna. Ut tellus.\n\nNulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\n\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.","imageUrl":null,"Price":100000,"Quantity":1000,"Code":"55154-6998","_typeTag":"ProductDTO"},{"Id":"50d13f0b-8f50-45e6-a115-08dcdd3d38a3","CategoryName":"936824466-9","Name":"Elwood","Description":"Phasellus sit amet erat. Nulla tempus. Vivamus in felis eu sapien cursus vestibulum.","imageUrl":null,"Price":1000000,"Quantity":1000,"Code":"27293-016","_typeTag":"ProductDTO"},{"Id":"7076438f-05d4-47ac-79c4-08dcdd3fbcc2","CategoryName":"818256655-X","Name":"Sally","Description":"Praesent blandit. Nam nulla. Integer pede justo, lacinia eget, tincidunt eget, tempus vel, pede.\n\nMorbi porttitor lorem id ligula. Suspendisse ornare consequat lectus. In est risus, auctor sed, tristique in, tempus sit amet, sem.\n\nFusce consequat. Nulla nisl. Nunc nisl.","imageUrl":null,"Price":38000,"Quantity":0,"Code":"49884-574","_typeTag":"ProductDTO"}]}}
{"Timestamp":"2024-10-02T14:45:05.5607656+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Domain.ViewModels.Product.ProductDTO, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f8ee8425-1026-42ac-a544-7edf937128b1","ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","RequestId":"0HN72MNFS5PB5:00000013","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:45:05.5674386+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"ActionName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","ElapsedMilliseconds":196.3444,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72MNFS5PB5:00000013","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:45:05.5742208+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"EndpointName":"JWTDemo.Controllers.v5.ProductsController.GetProducts (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72MNFS5PB5:00000013","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:45:05.5757467+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Products","StatusCode":200,"Elapsed":225.1758,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"225.1758"}]}}
{"Timestamp":"2024-10-02T14:45:05.5780022+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fe2376f8d2960b444369a69e48e89de6","SpanId":"e8d64b38655162c7","Properties":{"ElapsedMilliseconds":240.2563,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Products","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MNFS5PB5:00000013","RequestPath":"/api/v5/Products","ConnectionId":"0HN72MNFS5PB5"}}
{"Timestamp":"2024-10-02T14:46:10.9963996+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"14","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:46:11.0361220+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:46:11.0510834+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T14:46:11.0917671+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T14:46:11.3032663+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:46:11.3040031+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:46:11.3057503+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:46:11.3065605+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:46:11.3074040+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T14:46:11.4523821+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e86dbebb76a437fac703eb74aa27ae7","SpanId":"c0bbe770a8870b3c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MP4DQ21B:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72MP4DQ21B"}}
{"Timestamp":"2024-10-02T14:46:11.6831449+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e86dbebb76a437fac703eb74aa27ae7","SpanId":"c0bbe770a8870b3c","Properties":{"ElapsedMilliseconds":231.7735,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MP4DQ21B:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72MP4DQ21B"}}
{"Timestamp":"2024-10-02T14:46:11.7225712+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1cddbbcb508455bab7568a7023e6f486","SpanId":"16290fc4260ceff2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MP4DQ21B:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72MP4DQ21B"}}
{"Timestamp":"2024-10-02T14:46:11.7225745+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4445134c0ea5b8783872c4747aa75a81","SpanId":"90885614eed035eb","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MP4DQ21B:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72MP4DQ21B"}}
{"Timestamp":"2024-10-02T14:46:11.7305869+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1cddbbcb508455bab7568a7023e6f486","SpanId":"16290fc4260ceff2","Properties":{"ElapsedMilliseconds":7.9671,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MP4DQ21B:00000005","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72MP4DQ21B"}}
{"Timestamp":"2024-10-02T14:46:11.7466037+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4445134c0ea5b8783872c4747aa75a81","SpanId":"90885614eed035eb","Properties":{"ElapsedMilliseconds":24.0209,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MP4DQ21B:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72MP4DQ21B"}}
{"Timestamp":"2024-10-02T14:46:12.3707120+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e86f58f6b434479b6ff428870ddcb145","SpanId":"59d3b533c855d15b","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MP4DQ21B:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72MP4DQ21B"}}
{"Timestamp":"2024-10-02T14:46:12.4357836+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e86f58f6b434479b6ff428870ddcb145","SpanId":"59d3b533c855d15b","Properties":{"ElapsedMilliseconds":65.0751,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72MP4DQ21B:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72MP4DQ21B"}}
{"Timestamp":"2024-10-02T15:44:58.8245958+07:00","Level":"Error","MessageTemplate":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"35,064","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T15:44:58.9711923+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","Exception":"Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.\r\n ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()\r\nClientConnectionId:eaeaefcf-fd94-4cd1-9ada-5017d7117b64\r\nError Number:-2,State:0,Class:11","Properties":{"contextType":"Domain.ApplicationDbContext","newline":"\r\n","error":"Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.\r\n ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()\r\nClientConnectionId:eaeaefcf-fd94-4cd1-9ada-5017d7117b64\r\nError Number:-2,State:0,Class:11","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query"}}
{"Timestamp":"2024-10-02T15:54:57.2063465+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"21","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T15:54:57.2498060+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T15:54:57.2669243+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T15:54:57.3044173+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T15:54:57.5988509+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:54:57.5998418+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:54:57.6008248+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:54:57.6020754+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:54:57.6024137+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:54:58.0272842+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72f4fa8def9599de5d536e223fc8d4fd","SpanId":"dfa00ab98225bac3","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:54:58.2249274+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72f4fa8def9599de5d536e223fc8d4fd","SpanId":"dfa00ab98225bac3","Properties":{"ElapsedMilliseconds":198.5765,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:54:58.2536987+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5bcd8c9e16b805511975a93623d43eca","SpanId":"383a546f1648185e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:54:58.2601854+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5bcd8c9e16b805511975a93623d43eca","SpanId":"383a546f1648185e","Properties":{"ElapsedMilliseconds":6.5256,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:54:58.3219464+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"abe59800a7e315744cb7d4d5d19464ad","SpanId":"ffed81ce2c7b6a40","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:54:58.3500036+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"abe59800a7e315744cb7d4d5d19464ad","SpanId":"ffed81ce2c7b6a40","Properties":{"ElapsedMilliseconds":28.0579,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:54:58.7468193+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4864917a9a555b8125ce6be153149a6c","SpanId":"c6b86a497a68bbe2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:54:58.8152057+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4864917a9a555b8125ce6be153149a6c","SpanId":"c6b86a497a68bbe2","Properties":{"ElapsedMilliseconds":68.3555,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:18.3385642+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"08e3d4a30ee8c6b3ae1e7ee0a3c5b137","SpanId":"020abfbae1826927","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:18.4367493+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"08e3d4a30ee8c6b3ae1e7ee0a3c5b137","SpanId":"020abfbae1826927","Properties":{"ElapsedMilliseconds":98.1825,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:32.4468250+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":62,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:32.4648238+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72NVI7J6CC:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:32.5082185+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72NVI7J6CC:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:32.5407781+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"605de5de-03ac-4ed9-ac90-871ecef31119","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:32.6933333+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"elapsed":"16","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"605de5de-03ac-4ed9-ac90-871ecef31119","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:32.9103520+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"605de5de-03ac-4ed9-ac90-871ecef31119","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:32.9202977+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":368.2638,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72NVI7J6CC:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:32.9222268+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72NVI7J6CC:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:32.9262351+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":400,"Elapsed":457.327,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"457.3270"}]}}
{"Timestamp":"2024-10-02T15:55:32.9334381+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f87c3f4736e19c19f3492970abea1588","SpanId":"cbaf97f4fd6aaaee","Properties":{"ElapsedMilliseconds":486.5964,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:0000000B","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.1466815+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.1562806+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.1602785+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.1643333+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"605de5de-03ac-4ed9-ac90-871ecef31119","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.2050491+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"605de5de-03ac-4ed9-ac90-871ecef31119","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.3734787+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"elapsed":"4","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"605de5de-03ac-4ed9-ac90-871ecef31119","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.3857332+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"605de5de-03ac-4ed9-ac90-871ecef31119","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.5650007+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"605de5de-03ac-4ed9-ac90-871ecef31119","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.5779618+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"605de5de-03ac-4ed9-ac90-871ecef31119","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.5919759+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":421.0176,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.5963654+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:38.5987140+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":440.4058,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"440.4058"}]}}
{"Timestamp":"2024-10-02T15:55:38.6044770+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9f53aa5e953c95e8c90718c524239383","SpanId":"902990511cd56932","Properties":{"ElapsedMilliseconds":457.7557,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:0000000D","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.2962418+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.3600641+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.3706069+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"89c2caae-ddef-4e3d-9c07-7439df7eb283","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.5827786+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"elapsed":"25","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"89c2caae-ddef-4e3d-9c07-7439df7eb283","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.7077647+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"elapsed":"15","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"89c2caae-ddef-4e3d-9c07-7439df7eb283","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.7724681+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"elapsed":"10","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"89c2caae-ddef-4e3d-9c07-7439df7eb283","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.8057989+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"89c2caae-ddef-4e3d-9c07-7439df7eb283","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.8200201+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"89c2caae-ddef-4e3d-9c07-7439df7eb283","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.8431778+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":465.3765,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.8450955+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:55:58.8457779+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":544.13,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"544.1300"}]}}
{"Timestamp":"2024-10-02T15:55:58.8472361+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aa10137dbe12c17801b600606f087a63","SpanId":"eb22b4327aae15b9","Properties":{"ElapsedMilliseconds":550.9872,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:0000000F","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.2952559+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":58,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.3023983+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.3074533+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.3149058+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"RouteData":"{action = \"Checkout\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] Checkout(Domain.ViewModels.Cart.CheckoutRequest)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5d8801d5-a7b6-4ca1-91d6-7e5185c4c41a","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.3568299+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"elapsed":"25","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5d8801d5-a7b6-4ca1-91d6-7e5185c4c41a","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.3746468+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"elapsed":"10","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5d8801d5-a7b6-4ca1-91d6-7e5185c4c41a","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.3836601+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"elapsed":"5","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5d8801d5-a7b6-4ca1-91d6-7e5185c4c41a","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.3877142+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5d8801d5-a7b6-4ca1-91d6-7e5185c4c41a","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.4276418+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","ElapsedMilliseconds":107.351,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.4308087+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.4326165+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Exception":"System.Exception: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nOrderRequestDTO -> Order\r\nDomain.ViewModels.Order.OrderRequestDTO -> Domain.Entities.Order\r\n   at JWTDemo.Controllers.v5.CartsController.Checkout(CheckoutRequest checkoutRequest) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 207\r\n   at lambda_method398(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/Checkout","StatusCode":500,"Elapsed":127.1507,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"127.1507"}]}}
{"Timestamp":"2024-10-02T15:56:22.4473042+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Exception":"System.Exception: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nOrderRequestDTO -> Order\r\nDomain.ViewModels.Order.OrderRequestDTO -> Domain.Entities.Order\r\n   at JWTDemo.Controllers.v5.CartsController.Checkout(CheckoutRequest checkoutRequest) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 207\r\n   at lambda_method398(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:56:22.4542283+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74f0cd73f97c26a78f3887f116a484bf","SpanId":"102b6dd13c2d4c3b","Properties":{"ElapsedMilliseconds":158.9809,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72NVI7J6CC:00000011","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72NVI7J6CC"}}
{"Timestamp":"2024-10-02T15:59:35.9784169+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"49","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T15:59:36.0253505+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"9","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T15:59:36.0412929+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T15:59:36.1206883+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"48","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T15:59:36.3584208+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:59:36.3944381+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:59:36.4612454+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:59:36.4771904+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:59:36.4950871+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T15:59:36.7256383+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"79c5336bd662856623afb3a21290c6d1","SpanId":"85b05a28062f4c06","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE37:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72O259HE37"}}
{"Timestamp":"2024-10-02T15:59:36.8531578+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"79c5336bd662856623afb3a21290c6d1","SpanId":"85b05a28062f4c06","Properties":{"ElapsedMilliseconds":128.1837,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE37:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72O259HE37"}}
{"Timestamp":"2024-10-02T15:59:36.8667589+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec41b8543f46cf527e1e2fdf131d4073","SpanId":"ec230082ab236b88","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE37:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72O259HE37"}}
{"Timestamp":"2024-10-02T15:59:36.8717484+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec41b8543f46cf527e1e2fdf131d4073","SpanId":"ec230082ab236b88","Properties":{"ElapsedMilliseconds":4.9554,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE37:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72O259HE37"}}
{"Timestamp":"2024-10-02T15:59:36.9216373+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2255320d937e81a861489cfe2fc3a8e9","SpanId":"5c53b0fe868cf79f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE37:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72O259HE37"}}
{"Timestamp":"2024-10-02T15:59:36.9411363+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2255320d937e81a861489cfe2fc3a8e9","SpanId":"5c53b0fe868cf79f","Properties":{"ElapsedMilliseconds":19.4946,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE37:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72O259HE37"}}
{"Timestamp":"2024-10-02T15:59:37.0632165+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"79f224f7be15c14de8a05d9d0bc8956a","SpanId":"e8a81ae800f7534a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE37:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72O259HE37"}}
{"Timestamp":"2024-10-02T15:59:37.1250443+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"79f224f7be15c14de8a05d9d0bc8956a","SpanId":"e8a81ae800f7534a","Properties":{"ElapsedMilliseconds":61.8173,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE37:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72O259HE37"}}
{"Timestamp":"2024-10-02T15:59:42.0881280+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1592759e6aa4a52da6af712b40ce9646","SpanId":"2dec71f8eab206eb","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE38:00000001","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72O259HE38"}}
{"Timestamp":"2024-10-02T15:59:42.1846385+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1592759e6aa4a52da6af712b40ce9646","SpanId":"2dec71f8eab206eb","Properties":{"ElapsedMilliseconds":96.6023,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE38:00000001","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72O259HE38"}}
{"Timestamp":"2024-10-02T15:59:54.1660944+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:54.2867460+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:54.3053982+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"be30b6f8-b7af-4f91-b592-e08525995c5c","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:54.5796239+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"elapsed":"31","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"be30b6f8-b7af-4f91-b592-e08525995c5c","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:54.7979302+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"elapsed":"30","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"be30b6f8-b7af-4f91-b592-e08525995c5c","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:54.8969421+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"elapsed":"28","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"be30b6f8-b7af-4f91-b592-e08525995c5c","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:54.9485562+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"elapsed":"2","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"be30b6f8-b7af-4f91-b592-e08525995c5c","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:54.9753088+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"be30b6f8-b7af-4f91-b592-e08525995c5c","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:55.0022906+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":687.6674,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:55.0050607+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T15:59:55.0081258+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":817.5649,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"817.5649"}]}}
{"Timestamp":"2024-10-02T15:59:55.0161455+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6ea1a6d26aa3a8318422b374dc22d6b3","SpanId":"a2a7b3496ea29a49","Properties":{"ElapsedMilliseconds":849.9946,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE39:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.1807361+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":45,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.1929280+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.2014623+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.2258926+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"RouteData":"{action = \"Checkout\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] Checkout(Domain.ViewModels.Cart.CheckoutRequest)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b73be7c3-f26f-4ff7-b8ed-60862f9e6550","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.3087487+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"elapsed":"47","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b73be7c3-f26f-4ff7-b8ed-60862f9e6550","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.3448860+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"elapsed":"30","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b73be7c3-f26f-4ff7-b8ed-60862f9e6550","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.3550456+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"elapsed":"4","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b73be7c3-f26f-4ff7-b8ed-60862f9e6550","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.3633491+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b73be7c3-f26f-4ff7-b8ed-60862f9e6550","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.4054478+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","ElapsedMilliseconds":172.5053,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.4085069+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.4107277+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Exception":"System.Exception: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nOrderRequestDTO -> Order\r\nDomain.ViewModels.Order.OrderRequestDTO -> Domain.Entities.Order\r\n   at JWTDemo.Controllers.v5.CartsController.Checkout(CheckoutRequest checkoutRequest) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 207\r\n   at lambda_method200(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/Checkout","StatusCode":500,"Elapsed":214.525,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"214.5250"}]}}
{"Timestamp":"2024-10-02T16:00:01.4411350+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Exception":"System.Exception: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nOrderRequestDTO -> Order\r\nDomain.ViewModels.Order.OrderRequestDTO -> Domain.Entities.Order\r\n   at JWTDemo.Controllers.v5.CartsController.Checkout(CheckoutRequest checkoutRequest) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 207\r\n   at lambda_method200(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:01.4550118+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4976e114b46ab7cdeba77dde6a8d47d","SpanId":"771931a884aa5881","Properties":{"ElapsedMilliseconds":274.2854,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O259HE39:00000003","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O259HE39"}}
{"Timestamp":"2024-10-02T16:00:47.4652584+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"29","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:00:47.5065749+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:00:47.5202390+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T16:00:47.5576589+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:00:47.7717075+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:00:47.7727846+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:00:47.7741967+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:00:47.7750725+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:00:47.7756482+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:00:48.1704186+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5294e5ef46179bff7a6ce78d165fd774","SpanId":"e4ee50d258ab5d8b","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:48.2989776+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5294e5ef46179bff7a6ce78d165fd774","SpanId":"e4ee50d258ab5d8b","Properties":{"ElapsedMilliseconds":129.1865,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:48.3069667+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f26495bfbe0ace8b001f80ed8ef4f4e3","SpanId":"36164b5f2aeadb30","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:48.3069669+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f30d110d456113e327bf40fe457f40a","SpanId":"6fb4cba41b876a06","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:48.3105490+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f26495bfbe0ace8b001f80ed8ef4f4e3","SpanId":"36164b5f2aeadb30","Properties":{"ElapsedMilliseconds":3.5638,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:48.3256440+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f30d110d456113e327bf40fe457f40a","SpanId":"6fb4cba41b876a06","Properties":{"ElapsedMilliseconds":18.6829,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:48.4267673+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6ea9c49bb6c48e68613f0e8cdc48267d","SpanId":"ef1a1dd08e779227","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:48.4895485+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6ea9c49bb6c48e68613f0e8cdc48267d","SpanId":"ef1a1dd08e779227","Properties":{"ElapsedMilliseconds":62.7864,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:50.0644535+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d686427db3d5ce3e3c90b55e0978aa12","SpanId":"e18d43666a3f1e9a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:50.0951149+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d686427db3d5ce3e3c90b55e0978aa12","SpanId":"e18d43666a3f1e9a","Properties":{"ElapsedMilliseconds":30.6827,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09FV:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72O2QJ09FV"}}
{"Timestamp":"2024-10-02T16:00:57.4724258+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.5175241+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.5287091+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2c4ec08a-5932-4c11-8c50-a4008204037a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.6292682+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"elapsed":"14","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2c4ec08a-5932-4c11-8c50-a4008204037a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.7127755+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"elapsed":"12","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2c4ec08a-5932-4c11-8c50-a4008204037a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.7466749+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"elapsed":"5","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2c4ec08a-5932-4c11-8c50-a4008204037a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.7655910+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2c4ec08a-5932-4c11-8c50-a4008204037a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.7780647+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2c4ec08a-5932-4c11-8c50-a4008204037a","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.7907352+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":256.7123,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.7926090+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:00:57.7955432+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":313.2882,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"313.2882"}]}}
{"Timestamp":"2024-10-02T16:00:57.7991026+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5ef332248d7c1d8e32663dcba23d63eb","SpanId":"52af007fdf454158","Properties":{"ElapsedMilliseconds":326.6713,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09G0:00000001","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72O2QJ09G0"}}
{"Timestamp":"2024-10-02T16:01:02.2420986+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":45,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.2489744+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.2524657+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.2581686+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"RouteData":"{action = \"Checkout\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] Checkout(Domain.ViewModels.Cart.CheckoutRequest)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e8ee0e79-656e-41e5-bba4-5318f8140d67","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.2795954+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"elapsed":"6","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e8ee0e79-656e-41e5-bba4-5318f8140d67","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.2915630+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"elapsed":"8","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e8ee0e79-656e-41e5-bba4-5318f8140d67","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.3068042+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"elapsed":"10","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e8ee0e79-656e-41e5-bba4-5318f8140d67","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.3157812+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"elapsed":"4","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e8ee0e79-656e-41e5-bba4-5318f8140d67","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.3557845+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","ElapsedMilliseconds":95.0644,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.3579967+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.3599366+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Exception":"System.Exception: Object reference not set to an instance of an object.\r\n   at JWTDemo.Controllers.v5.CartsController.Checkout(CheckoutRequest checkoutRequest) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 207\r\n   at lambda_method200(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/Checkout","StatusCode":500,"Elapsed":109.7314,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"109.7314"}]}}
{"Timestamp":"2024-10-02T16:01:02.3801837+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Exception":"System.Exception: Object reference not set to an instance of an object.\r\n   at JWTDemo.Controllers.v5.CartsController.Checkout(CheckoutRequest checkoutRequest) in C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo\\Controllers\\v5\\CartsController.cs:line 207\r\n   at lambda_method200(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:02.3878061+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9500077df730fc1fe418a2840dcd9171","SpanId":"3c893f04325dc752","Properties":{"ElapsedMilliseconds":145.7023,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O2QJ09G1:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O2QJ09G1"}}
{"Timestamp":"2024-10-02T16:01:42.7215881+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"64","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:01:42.7814443+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:01:42.8132773+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T16:01:42.8601357+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"10","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:01:43.2910909+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:01:43.2931714+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:01:43.2953585+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:01:43.2972554+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:01:43.2985027+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:01:44.2498768+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6af5f06a5bb1ca16ffb108cb590e3226","SpanId":"86242b24dc1c8b83","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:44.4782209+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6af5f06a5bb1ca16ffb108cb590e3226","SpanId":"86242b24dc1c8b83","Properties":{"ElapsedMilliseconds":233.607,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:44.4858710+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"75b508f8178b31c0fc26fd85315d8971","SpanId":"2f78c0bd90ee05fa","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:44.4917472+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"75b508f8178b31c0fc26fd85315d8971","SpanId":"2f78c0bd90ee05fa","Properties":{"ElapsedMilliseconds":5.9226,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:44.5296470+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7b69057b97eec0b1501163ef4b3bb36","SpanId":"39a6461d7b89e573","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:44.5582863+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7b69057b97eec0b1501163ef4b3bb36","SpanId":"39a6461d7b89e573","Properties":{"ElapsedMilliseconds":28.9102,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:44.7729713+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0a87ceb051829a70f00a6f95e90fe2fd","SpanId":"c9caa41ac60277a0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:44.8552711+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0a87ceb051829a70f00a6f95e90fe2fd","SpanId":"c9caa41ac60277a0","Properties":{"ElapsedMilliseconds":82.8417,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:46.7930397+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cdd8668f95f7f2c6195cb1df3cbc619d","SpanId":"1bc1195e2b2d245c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:46.8612328+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cdd8668f95f7f2c6195cb1df3cbc619d","SpanId":"1bc1195e2b2d245c","Properties":{"ElapsedMilliseconds":68.6825,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q536:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72O3B4Q536"}}
{"Timestamp":"2024-10-02T16:01:53.9164217+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3c474ef3f7dbc77d741c9f7278217c2d","SpanId":"6b103d4445bc87da","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":45,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O3B4Q537:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O3B4Q537"}}
{"Timestamp":"2024-10-02T16:01:53.9535723+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"3c474ef3f7dbc77d741c9f7278217c2d","SpanId":"6b103d4445bc87da","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72O3B4Q537:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O3B4Q537"}}
{"Timestamp":"2024-10-02T16:01:54.1693396+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3c474ef3f7dbc77d741c9f7278217c2d","SpanId":"6b103d4445bc87da","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O3B4Q537:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O3B4Q537"}}
{"Timestamp":"2024-10-02T16:01:54.2007940+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3c474ef3f7dbc77d741c9f7278217c2d","SpanId":"6b103d4445bc87da","Properties":{"RouteData":"{action = \"Checkout\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] Checkout(Domain.ViewModels.Cart.CheckoutRequest)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7c9d2ab6-4e62-4191-b609-6afa025f884f","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O3B4Q537:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O3B4Q537"}}
{"Timestamp":"2024-10-02T16:01:54.5913135+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c474ef3f7dbc77d741c9f7278217c2d","SpanId":"6b103d4445bc87da","Properties":{"elapsed":"37","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7c9d2ab6-4e62-4191-b609-6afa025f884f","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O3B4Q537:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O3B4Q537"}}
{"Timestamp":"2024-10-02T16:02:01.2419675+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c474ef3f7dbc77d741c9f7278217c2d","SpanId":"6b103d4445bc87da","Properties":{"elapsed":"16","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7c9d2ab6-4e62-4191-b609-6afa025f884f","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O3B4Q537:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O3B4Q537"}}
{"Timestamp":"2024-10-02T16:02:01.3299063+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c474ef3f7dbc77d741c9f7278217c2d","SpanId":"6b103d4445bc87da","Properties":{"elapsed":"10","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7c9d2ab6-4e62-4191-b609-6afa025f884f","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O3B4Q537:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O3B4Q537"}}
{"Timestamp":"2024-10-02T16:02:01.3762047+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c474ef3f7dbc77d741c9f7278217c2d","SpanId":"6b103d4445bc87da","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7c9d2ab6-4e62-4191-b609-6afa025f884f","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O3B4Q537:00000001","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O3B4Q537"}}
{"Timestamp":"2024-10-02T16:08:23.9456659+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"52","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:08:24.0189800+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:08:24.0646486+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T16:08:24.1057245+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"9","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:08:24.5499098+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:08:24.5525274+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:08:24.5548077+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:08:24.5560243+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:08:24.5571787+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:08:24.9966593+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b6cdbe2b7c96f07052415f6f2ab805e","SpanId":"00dd645c0c5c401f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DK:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72O72K40DK"}}
{"Timestamp":"2024-10-02T16:08:25.2282514+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b6cdbe2b7c96f07052415f6f2ab805e","SpanId":"00dd645c0c5c401f","Properties":{"ElapsedMilliseconds":235.5472,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DK:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72O72K40DK"}}
{"Timestamp":"2024-10-02T16:08:25.2362712+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb5a006cf22234804b9f55af864cc057","SpanId":"cea3eeb77b4d275e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DK:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72O72K40DK"}}
{"Timestamp":"2024-10-02T16:08:25.2440227+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb5a006cf22234804b9f55af864cc057","SpanId":"cea3eeb77b4d275e","Properties":{"ElapsedMilliseconds":7.8051,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DK:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72O72K40DK"}}
{"Timestamp":"2024-10-02T16:08:25.2516982+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0d2bd398116613a9faaac3010924db07","SpanId":"3123c8858ae35caf","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DK:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72O72K40DK"}}
{"Timestamp":"2024-10-02T16:08:25.2818212+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0d2bd398116613a9faaac3010924db07","SpanId":"3123c8858ae35caf","Properties":{"ElapsedMilliseconds":30.2841,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DK:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72O72K40DK"}}
{"Timestamp":"2024-10-02T16:08:25.3450664+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"79448a7d440a0f83ae18dd3be21d68a7","SpanId":"f9dd84cc22fff493","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DK:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72O72K40DK"}}
{"Timestamp":"2024-10-02T16:08:25.4210969+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"79448a7d440a0f83ae18dd3be21d68a7","SpanId":"f9dd84cc22fff493","Properties":{"ElapsedMilliseconds":76.3865,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DK:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72O72K40DK"}}
{"Timestamp":"2024-10-02T16:08:33.8481488+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ffab2b398345b28dfa957a3aa3a9a1c","SpanId":"84db0937637980e6","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v4/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DL:00000001","RequestPath":"/swagger/v4/swagger.json","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:33.8671144+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ffab2b398345b28dfa957a3aa3a9a1c","SpanId":"84db0937637980e6","Properties":{"ElapsedMilliseconds":19.8087,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v4/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DL:00000001","RequestPath":"/swagger/v4/swagger.json","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:35.8427755+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"717ba16452a0c90c194f9e30734580b8","SpanId":"b52dfe75d1095126","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DL:00000003","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:35.8660327+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"717ba16452a0c90c194f9e30734580b8","SpanId":"b52dfe75d1095126","Properties":{"ElapsedMilliseconds":23.7178,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DL:00000003","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:42.2045225+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"561069b5b59bd94e3f3cfc952799d0a7","SpanId":"37ace69ee6da27b4","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":45,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72O72K40DL:00000005","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:42.2158931+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"561069b5b59bd94e3f3cfc952799d0a7","SpanId":"37ace69ee6da27b4","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72O72K40DL:00000005","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:42.3316616+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"561069b5b59bd94e3f3cfc952799d0a7","SpanId":"37ace69ee6da27b4","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72O72K40DL:00000005","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:42.3441172+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"561069b5b59bd94e3f3cfc952799d0a7","SpanId":"37ace69ee6da27b4","Properties":{"RouteData":"{action = \"Checkout\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] Checkout(Domain.ViewModels.Cart.CheckoutRequest)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b4761d25-e353-40c8-bf27-eae581ce5fac","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O72K40DL:00000005","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:42.4904927+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"561069b5b59bd94e3f3cfc952799d0a7","SpanId":"37ace69ee6da27b4","Properties":{"elapsed":"19","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b4761d25-e353-40c8-bf27-eae581ce5fac","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O72K40DL:00000005","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:42.5832494+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"561069b5b59bd94e3f3cfc952799d0a7","SpanId":"37ace69ee6da27b4","Properties":{"elapsed":"12","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b4761d25-e353-40c8-bf27-eae581ce5fac","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O72K40DL:00000005","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:42.6226737+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"561069b5b59bd94e3f3cfc952799d0a7","SpanId":"37ace69ee6da27b4","Properties":{"elapsed":"7","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b4761d25-e353-40c8-bf27-eae581ce5fac","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O72K40DL:00000005","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:08:42.6617316+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"561069b5b59bd94e3f3cfc952799d0a7","SpanId":"37ace69ee6da27b4","Properties":{"elapsed":"10","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b4761d25-e353-40c8-bf27-eae581ce5fac","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72O72K40DL:00000005","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72O72K40DL"}}
{"Timestamp":"2024-10-02T16:17:25.0672848+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"22","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:17:25.1162973+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"10","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:17:25.1330730+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T16:17:25.1842484+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:17:25.3764831+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:17:25.3771651+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:17:25.3784125+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:17:25.3790091+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:17:25.3797789+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:17:25.6008995+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b6d87fa4a771bad7ea55cfa2640ae549","SpanId":"9c36af1be07931d0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:25.7605576+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b6d87fa4a771bad7ea55cfa2640ae549","SpanId":"9c36af1be07931d0","Properties":{"ElapsedMilliseconds":160.4668,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:25.7677846+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da1d055b514a435c69ef6022273e43f3","SpanId":"56219b7553103386","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:25.7741361+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da1d055b514a435c69ef6022273e43f3","SpanId":"56219b7553103386","Properties":{"ElapsedMilliseconds":6.3189,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:25.7843934+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ffb73ebe56ea55d81d13aff7325d9b33","SpanId":"0bfff95a6a4c22a0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:25.8012776+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ffb73ebe56ea55d81d13aff7325d9b33","SpanId":"0bfff95a6a4c22a0","Properties":{"ElapsedMilliseconds":16.8566,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:25.8726005+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5253d269645359f9bc2313ce1544ff6d","SpanId":"2f41e48ae21f50a2","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:25.9291916+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5253d269645359f9bc2313ce1544ff6d","SpanId":"2f41e48ae21f50a2","Properties":{"ElapsedMilliseconds":56.5812,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:34.4452689+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6fcd75b440f2cbb7f499036791993f34","SpanId":"ae2978c7bd61e15b","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:34.4726064+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6fcd75b440f2cbb7f499036791993f34","SpanId":"ae2978c7bd61e15b","Properties":{"ElapsedMilliseconds":27.3312,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:40.9219269+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:40.9672507+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:41.0227408+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"RouteData":"{action = \"GetCart\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] GetCart()","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"75e3a19c-6de5-4c55-a7a7-a663d9cc5212","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:41.1639653+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"elapsed":"22","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"75e3a19c-6de5-4c55-a7a7-a663d9cc5212","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:41.2405178+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"elapsed":"10","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"75e3a19c-6de5-4c55-a7a7-a663d9cc5212","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:41.2757732+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"elapsed":"6","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"75e3a19c-6de5-4c55-a7a7-a663d9cc5212","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:41.2977426+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"75e3a19c-6de5-4c55-a7a7-a663d9cc5212","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:41.3098168+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"75e3a19c-6de5-4c55-a7a7-a663d9cc5212","ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:41.3222510+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","ElapsedMilliseconds":263.1806,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:41.3244176+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.GetCart (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:41.3268930+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Carts","StatusCode":200,"Elapsed":393.8973,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"393.8973"}]}}
{"Timestamp":"2024-10-02T16:17:41.3315842+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b9d78f3328daacbf9e632aba77f8299d","SpanId":"9d612e29119fcc15","Properties":{"ElapsedMilliseconds":409.6395,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:0000000B","RequestPath":"/api/v5/Carts","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.4190096+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":45,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.4264103+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.4295649+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.4354714+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"RouteData":"{action = \"Checkout\", controller = \"Carts\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Cart.CartResponseDTO]] Checkout(Domain.ViewModels.Cart.CheckoutRequest)","Controller":"JWTDemo.Controllers.v5.CartsController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.5366618+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"elapsed":"84","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.5590077+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"elapsed":"14","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[CustomerId], [c].[IsDeleted], [c0].[Id], [c0].[CartId], [c0].[IsDeleted], [c0].[ProductId], [c0].[Quantity]\r\nFROM [Carts] AS [c]\r\nLEFT JOIN [CartItems] AS [c0] ON [c].[Id] = [c0].[CartId]\r\nWHERE [c].[CustomerId] = @__customerId_0\r\nORDER BY [c].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.5880806+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"elapsed":"12","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.6031728+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"elapsed":"6","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.7040627+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.8106774+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"elapsed":"102","parameters":"@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = Double)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Orders] ([Id], [Address], [CustomerId], [DeliveryDate], [ExpectedDeliveryDate], [IsDeleted], [Note], [OrderDate], [OrderStatus], [TotalPrice])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.8297780+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.8508324+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"elapsed":"18","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [OrderItems] ([Id], [IsDeleted], [OrderId], [ProductId], [Quantity])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.8573088+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.8605032+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [OrderItems] ([Id], [IsDeleted], [OrderId], [ProductId], [Quantity])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.8765027+07:00","Level":"Warning","MessageTemplate":"Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"EventId":{"Id":30004,"Name":"Microsoft.EntityFrameworkCore.Database.Transaction.SavepointsDisabledBecauseOfMARS"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Transaction","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:45.9452474+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"elapsed":"65","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p4='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [CartItems]\r\nOUTPUT 1\r\nWHERE [Id] = @p0;\r\nDELETE FROM [CartItems]\r\nOUTPUT 1\r\nWHERE [Id] = @p1;\r\nUPDATE [Carts] SET [CustomerId] = @p2, [IsDeleted] = @p3\r\nOUTPUT 1\r\nWHERE [Id] = @p4;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:46.0249628+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Cart.CartResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0ff2ec26-f316-4736-a4f7-c189f093f527","ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:46.0411961+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"ActionName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","ElapsedMilliseconds":601.4427,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:46.0553827+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"EndpointName":"JWTDemo.Controllers.v5.CartsController.Checkout (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:17:46.0566461+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Carts/Checkout","StatusCode":200,"Elapsed":628.6997,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"628.6997"}]}}
{"Timestamp":"2024-10-02T16:17:46.0595626+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"73d4d5b3ab4023ea8173fd8f6f8fd3e6","SpanId":"6d4af779741a120c","Properties":{"ElapsedMilliseconds":640.5506,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Carts/Checkout","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:0000000D","RequestPath":"/api/v5/Carts/Checkout","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:18:06.8781754+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:0000000F","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:18:06.8869706+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Properties":{"EndpointName":"JWTDemo.Controllers.v5.OrdersController.GetOrders (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OC3Q84J1:0000000F","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:18:06.8953534+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Properties":{"RouteData":"{action = \"GetOrders\", controller = \"Orders\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.Entities.Order]]] GetOrders()","Controller":"JWTDemo.Controllers.v5.OrdersController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"437dc01c-168b-4fe0-a7fe-aaf7cc89569e","ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrders (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000F","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:18:06.9175978+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Properties":{"elapsed":"9","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[Address], [o].[CustomerId], [o].[DeliveryDate], [o].[ExpectedDeliveryDate], [o].[IsDeleted], [o].[Note], [o].[OrderDate], [o].[OrderStatus], [o].[TotalPrice]\r\nFROM [Orders] AS [o]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"437dc01c-168b-4fe0-a7fe-aaf7cc89569e","ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrders (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000F","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:18:06.9233384+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Properties":{"ObjectResultType":"ObjectResult","Type":"System.Collections.Generic.List`1[[Domain.Entities.Order, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"437dc01c-168b-4fe0-a7fe-aaf7cc89569e","ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrders (JWTDemo)","RequestId":"0HN72OC3Q84J1:0000000F","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:18:06.9333155+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Properties":{"ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrders (JWTDemo)","ElapsedMilliseconds":29.8383,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72OC3Q84J1:0000000F","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:18:06.9360692+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Properties":{"EndpointName":"JWTDemo.Controllers.v5.OrdersController.GetOrders (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OC3Q84J1:0000000F","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:18:06.9384566+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Exception":"System.InvalidOperationException: JsonPropertyInfo 'order' defined in type 'Domain.Entities.OrderItem' is marked required but does not specify a setter.\r\n   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_JsonPropertyRequiredAndNotDeserializable(JsonPropertyInfo jsonPropertyInfo)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Orders","StatusCode":500,"Elapsed":55.8976,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.8976"}]}}
{"Timestamp":"2024-10-02T16:18:06.9642231+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Exception":"System.InvalidOperationException: JsonPropertyInfo 'order' defined in type 'Domain.Entities.OrderItem' is marked required but does not specify a setter.\r\n   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_JsonPropertyRequiredAndNotDeserializable(JsonPropertyInfo jsonPropertyInfo)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)\r\n   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN72OC3Q84J1:0000000F","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:18:06.9775321+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cb7f42795a3f95cd3f18bf5808a93e63","SpanId":"e7bb5495d6536bb0","Properties":{"ElapsedMilliseconds":99.3598,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OC3Q84J1:0000000F","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OC3Q84J1"}}
{"Timestamp":"2024-10-02T16:52:40.6587259+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"@__managerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__managerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:52:40.7045824+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"@__customerRole_Name_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]\r\n        WHERE [a].[Name] = @__customerRole_Name_0 AND [a].[Name] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:52:40.7402017+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\minhd\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-10-02T16:52:40.7948095+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"12","parameters":"@__manager_UserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN NOT EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetUsers] AS [a]\r\n        WHERE [a].[UserName] = @__manager_UserName_0 AND [a].[UserName] IS NOT NULL) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2024-10-02T16:52:40.9841540+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7258","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:52:40.9852072+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5188","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:52:40.9872228+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:52:40.9879043+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:52:40.9887368+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\minhd\\source\\repos\\JWTDemo\\JWTDemo","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-10-02T16:52:41.5238275+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"63a4e25b5fa0937528ad52dea7dbfe85","SpanId":"f5090bf10f51d395","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:41.6697401+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"63a4e25b5fa0937528ad52dea7dbfe85","SpanId":"f5090bf10f51d395","Properties":{"ElapsedMilliseconds":146.6513,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/index.html","QueryString":"?urls.primaryName=v5","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:41.6977500+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d33686e6b6c0b209e41bbda48a5f2ee","SpanId":"5ecbd2a2a2dd91be","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:41.6977502+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f455428fc7163bdf1ee708c8c65f26fc","SpanId":"19a973b67366bd09","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:41.7028158+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d33686e6b6c0b209e41bbda48a5f2ee","SpanId":"5ecbd2a2a2dd91be","Properties":{"ElapsedMilliseconds":5.007,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13750,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:41.7186349+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f455428fc7163bdf1ee708c8c65f26fc","SpanId":"19a973b67366bd09","Properties":{"ElapsedMilliseconds":20.8989,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:42.0537405+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9410c72ca0bec76b8996845503b09db6","SpanId":"3d03a56fa58a4085","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:42.1117863+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9410c72ca0bec76b8996845503b09db6","SpanId":"3d03a56fa58a4085","Properties":{"ElapsedMilliseconds":58.0084,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:46.9830170+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b85d2b4a8cf83137ca410cd233c7501","SpanId":"476ccfdf86a92225","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:47.0066708+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b85d2b4a8cf83137ca410cd233c7501","SpanId":"476ccfdf86a92225","Properties":{"ElapsedMilliseconds":23.6473,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/swagger/v5/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000009","RequestPath":"/swagger/v5/swagger.json","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:59.9179718+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8d7f2a21bc7a200710155643651654e9","SpanId":"738ce36536d3987f","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:0000000B","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:59.9594670+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"8d7f2a21bc7a200710155643651654e9","SpanId":"738ce36536d3987f","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 9:25:38 AM', Current time (UTC): '10/2/2024 9:52:59 AM'.\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72OVQDOLN2:0000000B","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:59.9728944+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"8d7f2a21bc7a200710155643651654e9","SpanId":"738ce36536d3987f","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 9:25:38 AM', Current time (UTC): '10/2/2024 9:52:59 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72OVQDOLN2:0000000B","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:59.9763887+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"8d7f2a21bc7a200710155643651654e9","SpanId":"738ce36536d3987f","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72OVQDOLN2:0000000B","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:59.9798200+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"8d7f2a21bc7a200710155643651654e9","SpanId":"738ce36536d3987f","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72OVQDOLN2:0000000B","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:52:59.9816576+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8d7f2a21bc7a200710155643651654e9","SpanId":"738ce36536d3987f","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Orders","StatusCode":401,"Elapsed":51.641,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.6410"}]}}
{"Timestamp":"2024-10-02T16:52:59.9843487+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8d7f2a21bc7a200710155643651654e9","SpanId":"738ce36536d3987f","Properties":{"ElapsedMilliseconds":66.3712,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:0000000B","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:07.5173018+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a6dd07752dcc5ca8d26d7faebe4d1f5b","SpanId":"1659f1f931416b87","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders/Customer","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:0000000D","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:07.5259914+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"a6dd07752dcc5ca8d26d7faebe4d1f5b","SpanId":"1659f1f931416b87","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 9:25:38 AM', Current time (UTC): '10/2/2024 9:53:07 AM'.\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72OVQDOLN2:0000000D","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:07.5279563+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"a6dd07752dcc5ca8d26d7faebe4d1f5b","SpanId":"1659f1f931416b87","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 9:25:38 AM', Current time (UTC): '10/2/2024 9:53:07 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72OVQDOLN2:0000000D","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:07.5297745+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"a6dd07752dcc5ca8d26d7faebe4d1f5b","SpanId":"1659f1f931416b87","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72OVQDOLN2:0000000D","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:07.5321601+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"a6dd07752dcc5ca8d26d7faebe4d1f5b","SpanId":"1659f1f931416b87","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72OVQDOLN2:0000000D","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:07.5332960+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a6dd07752dcc5ca8d26d7faebe4d1f5b","SpanId":"1659f1f931416b87","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Orders/Customer","StatusCode":401,"Elapsed":8.9795,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8.9795"}]}}
{"Timestamp":"2024-10-02T16:53:07.5352511+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a6dd07752dcc5ca8d26d7faebe4d1f5b","SpanId":"1659f1f931416b87","Properties":{"ElapsedMilliseconds":17.9443,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders/Customer","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:0000000D","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.5190772+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":67,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.5247338+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.5265090+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 9:25:38 AM', Current time (UTC): '10/2/2024 9:53:34 AM'.\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.5299300+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/2/2024 9:25:38 AM', Current time (UTC): '10/2/2024 9:53:34 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.5326912+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.5423871+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.5987906+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"elapsed":"7","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.8508839+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"elapsed":"3","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.9041996+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.9499075+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.9577817+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.9659155+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":418.1473,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.9690624+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:34.9719158+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":445.9022,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"445.9022"}]}}
{"Timestamp":"2024-10-02T16:53:34.9766924+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce9dedc9cad72e4826dd3db6d173fa8e","SpanId":"6dabe4dd02de52d9","Properties":{"ElapsedMilliseconds":457.5781,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:0000000F","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:47.1682349+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"027a8378d6af70fd7f5abc627d127840","SpanId":"7afa43de95a8651e","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000011","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:47.1849258+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"027a8378d6af70fd7f5abc627d127840","SpanId":"7afa43de95a8651e","Properties":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN72OVQDOLN2:00000011","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:47.1882932+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was forbidden.","TraceId":"027a8378d6af70fd7f5abc627d127840","SpanId":"7afa43de95a8651e","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":13,"Name":"AuthenticationSchemeForbidden"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN72OVQDOLN2:00000011","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:53:47.1898918+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"027a8378d6af70fd7f5abc627d127840","SpanId":"7afa43de95a8651e","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Orders","StatusCode":403,"Elapsed":9.4842,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.4842"}]}}
{"Timestamp":"2024-10-02T16:53:47.1933532+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"027a8378d6af70fd7f5abc627d127840","SpanId":"7afa43de95a8651e","Properties":{"ElapsedMilliseconds":25.1183,"StatusCode":403,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000011","RequestPath":"/api/v5/Orders","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.0516470+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":63,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.0587565+07:00","Level":"Information","MessageTemplate":"CORS policy execution successful.","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.0602326+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.0616292+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"RouteData":"{action = \"Authenticate\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Domain.ViewModels.Auth.AuthResponse]] Authenticate(Domain.ViewModels.Auth.AuthRequest)","Controller":"JWTDemo.Controllers.v5.AuthController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.0739148+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.1216283+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"elapsed":"1","parameters":"@__request_Email_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[Fullname], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.1304375+07:00","Level":"Information","MessageTemplate":"JWT Token created","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"SourceContext":"JWTDemo.Services.TokenService","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.1341249+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.1381352+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Auth.AuthResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ad1a7612-3942-4019-8b47-187b25d2463f","ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.1405714+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"ActionName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","ElapsedMilliseconds":76.16,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.1423684+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"EndpointName":"JWTDemo.Controllers.v5.AuthController.Authenticate (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:22.1432300+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"RequestMethod":"POST","RequestPath":"/api/v5/Auth/login","StatusCode":200,"Elapsed":83.3091,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"83.3091"}]}}
{"Timestamp":"2024-10-02T16:54:22.1449035+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7d7e03a5742f1c455b8b1086e1aca1f6","SpanId":"b0a6cc1f6bd1d974","Properties":{"ElapsedMilliseconds":93.2415,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Auth/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000013","RequestPath":"/api/v5/Auth/login","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.0958024+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders/Customer","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.1005354+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"EndpointName":"JWTDemo.Controllers.v5.OrdersController.GetOrdersByCustomer (JWTDemo)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.1048647+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"RouteData":"{action = \"GetOrdersByCustomer\", controller = \"Orders\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Domain.ViewModels.Order.OrderResponseDTO]]] GetOrdersByCustomer()","Controller":"JWTDemo.Controllers.v5.OrdersController","AssemblyName":"JWTDemo","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ed897d23-94bf-4381-8296-4c3b15260d98","ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrdersByCustomer (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.1643214+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"elapsed":"7","parameters":"@__ToString_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[IsDeleted], [c].[UserId]\r\nFROM [Customers] AS [c]\r\nWHERE [c].[UserId] = @__ToString_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ed897d23-94bf-4381-8296-4c3b15260d98","ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrdersByCustomer (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.2177419+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"elapsed":"16","parameters":"@__customerId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[Address], [o].[CustomerId], [o].[DeliveryDate], [o].[ExpectedDeliveryDate], [o].[IsDeleted], [o].[Note], [o].[OrderDate], [o].[OrderStatus], [o].[TotalPrice], [o0].[Id], [o0].[IsDeleted], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity]\r\nFROM [Orders] AS [o]\r\nLEFT JOIN [OrderItems] AS [o0] ON [o].[Id] = [o0].[OrderId]\r\nWHERE [o].[CustomerId] = @__customerId_0\r\nORDER BY [o].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ed897d23-94bf-4381-8296-4c3b15260d98","ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrdersByCustomer (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.2514687+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"elapsed":"4","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ed897d23-94bf-4381-8296-4c3b15260d98","ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrdersByCustomer (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.2681306+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"elapsed":"1","parameters":"@__get_Item_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[Code], [p].[Description], [p].[IsDeleted], [p].[Name], [p].[Price], [p].[Quantity], [p].[imageUrl]\r\nFROM [Products] AS [p]\r\nWHERE [p].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ed897d23-94bf-4381-8296-4c3b15260d98","ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrdersByCustomer (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.2752320+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"ObjectResultType":"OkObjectResult","Type":"Domain.ViewModels.Order.OrderResponseDTO","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ed897d23-94bf-4381-8296-4c3b15260d98","ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrdersByCustomer (JWTDemo)","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.2857362+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"ActionName":"JWTDemo.Controllers.v5.OrdersController.GetOrdersByCustomer (JWTDemo)","ElapsedMilliseconds":178.7571,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.2871341+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"EndpointName":"JWTDemo.Controllers.v5.OrdersController.GetOrdersByCustomer (JWTDemo)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
{"Timestamp":"2024-10-02T16:54:36.2879246+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"RequestMethod":"GET","RequestPath":"/api/v5/Orders/Customer","StatusCode":200,"Elapsed":187.8478,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"187.8478"}]}}
{"Timestamp":"2024-10-02T16:54:36.2897768+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af4528169c1fd8040fe8d11bd75f0724","SpanId":"b971f14f71d3c921","Properties":{"ElapsedMilliseconds":193.9642,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7258","PathBase":"","Path":"/api/v5/Orders/Customer","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN72OVQDOLN2:00000015","RequestPath":"/api/v5/Orders/Customer","ConnectionId":"0HN72OVQDOLN2"}}
